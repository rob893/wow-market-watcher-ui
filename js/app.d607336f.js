(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"1cdcf":function(e,t,r){"use strict";r("9349")},"269b":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="4678"},"68fb":function(e,t,r){"use strict";r("269b")},9349:function(e,t,r){},a182:function(e,t,r){"use strict";r("c72c")},c72c:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n,a,i,o,s=r("2b0e"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Header"),r("v-main",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("Footer")],1)},u=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{app:"",clipped:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[e.isUserLoggedIn?e._e():r("v-list-item",{attrs:{link:"",to:"/login"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-login")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Login")])],1)],1),e.isUserLoggedIn?e._e():r("v-list-item",{attrs:{link:"",to:"/register"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-login")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Sign Up")])],1)],1),e.isUserLoggedIn?r("v-list-item",{attrs:{link:"",to:"/watch-lists"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-view-dashboard")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Watch Lists")])],1)],1):e._e(),e.isUserLoggedIn?r("v-list-item",{attrs:{link:"",to:"/account"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-account")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Account")])],1)],1):e._e(),e.isUserLoggedIn?r("v-list-item",{attrs:{link:""},on:{click:e.logout}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-logout")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Logout")])],1)],1):e._e()],1)],1),r("v-app-bar",{attrs:{app:"","clipped-left":""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("router-link",{staticClass:"toolbar-title",attrs:{to:"/"}},[r("v-toolbar-title",[r("v-icon",{attrs:{large:"",color:"green"}},[e._v("mdi-chart-line")]),r("span",{staticClass:"hidden-sm-and-down ml-2"},[e._v(e._s(e.title))])],1)],1),r("v-spacer"),r("v-text-field",{staticClass:"mt-5",attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify",filled:"",rounded:"",dense:""}}),r("v-spacer"),r("div",{staticClass:"hidden-sm-and-down"},[e.isUserLoggedIn?e._e():r("v-btn",{attrs:{link:"",to:"/login",text:""}},[e._v("Login")]),e.isUserLoggedIn?e._e():r("v-btn",{attrs:{link:"",to:"/register",text:""}},[e._v("Sign Up")]),e.isUserLoggedIn?r("v-btn",{attrs:{link:"",to:"/watch-lists",text:""}},[e._v("Watch Lists")]):e._e(),e.isUserLoggedIn?r("v-btn",{attrs:{link:"",to:"/account",text:""}},[e._v("Account")]):e._e(),e.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v("Logout")]):e._e()],1),r("v-progress-linear",{attrs:{active:e.loading,indeterminate:"",absolute:"",bottom:"",color:"deep-purple accent-4"}})],1)],1)},d=[],h=r("8d82"),g=r("1da1"),m=r("5530"),f=r("d4ec"),v=r("bee2"),p=r("262e"),b=r("2caf"),y=(r("96cf"),r("99af"),r("b0c0"),r("bc3a")),w=r.n(y),k=r("1232"),x=r("ec26"),L=r("14ba");(function(e){e["Development"]="development",e["Production"]="production"})(n||(n={})),function(e){e[e["Debug"]=0]="Debug",e[e["Info"]=1]="Info",e[e["Warn"]=2]="Warn",e[e["Error"]=3]="Error",e[e["Off"]=4]="Off"}(a||(a={})),function(e){e["CorrelationId"]="x-correlation-id",e["TokenExpired"]="x-token-expired"}(i||(i={})),function(e){e["Confirmed"]="confirmed",e["Canceled"]="canceled"}(o||(o={}));var j,R,C,I={appTitle:"WoW Market Watcher",localStoragePrefix:"wow-market-watcher",googleAuthClientId:"828621249181-jkn1clbsrppigmkb9alsgeglkm6t1g5m.apps.googleusercontent.com",retryOptions:{enabled:!0,maxRetryAttempts:3,delayTimeInMs:1e3}},A=Object(m["a"])(Object(m["a"])({},I),{},{logging:{logLevel:{default:a.Debug},providers:{console:{logLevel:{default:a.Debug}}}},production:!1,env:n.Development,wowMarketWatcherBaseUrl:"https://rwherber.com/wow-market-watcher/v1/api"}),T=Object(m["a"])(Object(m["a"])({},I),{},{logging:{logLevel:{default:a.Warn},providers:{console:{logLevel:{default:a.Off}}}},production:!0,env:n.Production,wowMarketWatcherBaseUrl:"https://rwherber.com/wow-market-watcher/v1/api"}),O=function(){function e(t){Object(f["a"])(this,e),this.environment=t}return Object(v["a"])(e,[{key:"production",get:function(){return this.environment.production}},{key:"logging",get:function(){return Object(m["a"])({},this.environment.logging)}},{key:"localStoragePrefix",get:function(){return this.environment.localStoragePrefix}},{key:"appTitle",get:function(){return this.environment.appTitle}},{key:"env",get:function(){return this.environment.env}},{key:"wowMarketWatcherBaseUrl",get:function(){return this.environment.wowMarketWatcherBaseUrl}},{key:"googleAuthClientId",get:function(){return this.environment.googleAuthClientId}},{key:"retryOptions",get:function(){return Object(m["a"])({},this.environment.retryOptions)}}]),e}(),_="production"===n.Production?T:A,W=new O(_),S=r("2909");r("159b");(function(e){e["Google"]="Google"})(j||(j={})),function(e){e["Get"]="GET",e["Post"]="POST",e["Patch"]="PATCH",e["Delete"]="DELETE",e["Put"]="PUT",e["Options"]="OPTIONS",e["Head"]="HEAD"}(R||(R={})),function(e){e[e["Continue"]=100]="Continue",e[e["SwitchingProtocols"]=101]="SwitchingProtocols",e[e["Processing"]=102]="Processing",e[e["EarlyHints"]=103]="EarlyHints",e[e["OK"]=200]="OK",e[e["Created"]=201]="Created",e[e["Accepted"]=202]="Accepted",e[e["NonAuthoritativeInformation"]=203]="NonAuthoritativeInformation",e[e["NoContent"]=204]="NoContent",e[e["ResetContent"]=205]="ResetContent",e[e["PartialContent"]=206]="PartialContent",e[e["MultiStatus"]=207]="MultiStatus",e[e["AlreadyReported"]=208]="AlreadyReported",e[e["IMUsed"]=226]="IMUsed",e[e["Ambiguous"]=300]="Ambiguous",e[e["MultipleChoices"]=300]="MultipleChoices",e[e["Moved"]=301]="Moved",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["Found"]=302]="Found",e[e["Redirect"]=302]="Redirect",e[e["RedirectMethod"]=303]="RedirectMethod",e[e["SeeOther"]=303]="SeeOther",e[e["NotModified"]=304]="NotModified",e[e["UseProxy"]=305]="UseProxy",e[e["Unused"]=306]="Unused",e[e["RedirectKeepVerb"]=307]="RedirectKeepVerb",e[e["TemporaryRedirect"]=307]="TemporaryRedirect",e[e["PermanentRedirect"]=308]="PermanentRedirect",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Conflict"]=409]="Conflict",e[e["Gone"]=410]="Gone",e[e["LengthRequired"]=411]="LengthRequired",e[e["PreconditionFailed"]=412]="PreconditionFailed",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestUriTooLong"]=414]="RequestUriTooLong",e[e["UnsupportedMediaType"]=415]="UnsupportedMediaType",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["IAmATeapot"]=418]="IAmATeapot",e[e["MisdirectedRequest"]=421]="MisdirectedRequest",e[e["UnprocessableEntity"]=422]="UnprocessableEntity",e[e["Locked"]=423]="Locked",e[e["FailedDependency"]=424]="FailedDependency",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["PreconditionRequired"]=428]="PreconditionRequired",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["RequestHeaderFieldsTooLarge"]=431]="RequestHeaderFieldsTooLarge",e[e["UnavailableForLegalReasons"]=451]="UnavailableForLegalReasons",e[e["InternalServerError"]=500]="InternalServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["BadGateway"]=502]="BadGateway",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["GatewayTimeout"]=504]="GatewayTimeout",e[e["HttpVersionNotSupported"]=505]="HttpVersionNotSupported",e[e["VariantAlsoNegotiates"]=506]="VariantAlsoNegotiates",e[e["InsufficientStorage"]=507]="InsufficientStorage",e[e["LoopDetected"]=508]="LoopDetected",e[e["NotExtended"]=510]="NotExtended",e[e["NetworkAuthenticationRequired"]=511]="NetworkAuthenticationRequired"}(C||(C={}));var U=function(){function e(t){var r=t.logging,n=r.logLevel.default,a=r.providers;Object(f["a"])(this,e),a&&a.console?this.logLevel=a.console.logLevel.default:this.logLevel=n}return Object(v["a"])(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[a.Debug].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[a.Info].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[a.Warn].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[a.Error].concat(t))}},{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?console.groupCollapsed(e):console.group(e)}},{key:"groupEnd",value:function(){console.groupEnd()}},{key:"log",value:function(e){var t,r,n,i;if(this.logLevel<=e){for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];switch(e){case a.Debug:(t=console).debug.apply(t,s);break;case a.Info:(r=console).info.apply(r,s);break;case a.Warn:(n=console).warn.apply(n,s);break;case a.Error:(i=console).error.apply(i,s);break;default:break}}}}]),e}(),D=new U(W),E=function(){function e(t){Object(f["a"])(this,e),this.loggingProviders=Object(S["a"])(t)}return Object(v["a"])(e,[{key:"debug",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.log.apply(this,[a.Debug,e].concat(r))}},{key:"info",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.log.apply(this,[a.Info,e].concat(r))}},{key:"warn",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.log.apply(this,[a.Warn,e].concat(r))}},{key:"error",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.log.apply(this,[a.Error,e].concat(r))}},{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loggingProviders.forEach((function(r){return r.group(e,t)}))}},{key:"groupEnd",value:function(){this.loggingProviders.forEach((function(e){return e.groupEnd()}))}},{key:"log",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.loggingProviders.forEach((function(r){switch(e){case a.Debug:r.debug.apply(r,[t].concat(n));break;case a.Info:r.info.apply(r,[t].concat(n));break;case a.Warn:r.warn.apply(r,[t].concat(n));break;case a.Error:r.error.apply(r,[t].concat(n));break;default:break}}))}}]),e}(),P=new E([D]),V=function(){function e(t,r,n){var a=r.localStoragePrefix,i=r.env;Object(f["a"])(this,e),this.storage=t,this.storagePrefix="".concat(a,"-").concat(i,"-"),this.logger=n}return Object(v["a"])(e,[{key:"getItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.getItem.name,": Getting item for key '").concat(t,"'."));var r=this.storage.getItem(this.computeKey(t));return r||null}},{key:"getParsedItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.getParsedItem.name,": Getting item for key '").concat(t,"'."));var r=this.getItem(t);if(!r)return null;var n=JSON.parse(r);return n}},{key:"setItem",value:function(t,r){if(this.logger.debug("".concat(e.name,".").concat(this.setItem.name,": Setting item for key '").concat(t,"'.")),"string"===typeof r)this.storage.setItem(this.computeKey(t),r);else{var n=JSON.stringify(r);this.storage.setItem(this.computeKey(t),n)}}},{key:"removeItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.removeItem.name,": Removing item for key '").concat(t,"'.")),this.storage.removeItem(this.computeKey(t))}},{key:"clear",value:function(){this.logger.debug("".concat(e.name,".").concat(this.clear.name,": Clearing local storage.")),this.storage.clear()}},{key:"computeKey",value:function(e){return"".concat(this.storagePrefix).concat(e)}}]),e}(),F=new V(localStorage,W,P),N=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("3835")),M=(r("caad"),r("2532"),function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"isAxiosError",value:function(e){return!0===e.isAxiosError}},{key:"isConnectedRealm",value:function(e){return void 0!==e.id&&void 0!==e.realms&&Array.isArray(e.realms)}},{key:"isConnectedRealmArray",value:function(e){return!!Array.isArray(e)&&(0===e.length||this.isConnectedRealm(e[0]))}},{key:"isRealm",value:function(e){return void 0!==e.id&&void 0!==e.connectedRealmId}},{key:"isRealmArray",value:function(e){return!!Array.isArray(e)&&(0===e.length||this.isRealm(e[0]))}}]),e}()),q=(r("9129"),r("a9e3"),r("498a"),r("5319"),r("ac1f"),r("b64b"),function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"isNumeric",value:function(e){return!Number.isNaN(Number(e))}},{key:"splitAtUpperCase",value:function(e){return e.replace(/([A-Z])/g," $1").trim()}},{key:"clearObject",value:function(e){Object.keys(e).forEach((function(t){return delete e[t]}))}},{key:"isEmptyObject",value:function(e){return 0===Object.keys(e).length}},{key:"formatCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}},{key:"wait",value:function(e){return new Promise((function(t){setTimeout(t,e)}))}},{key:"insert",value:function(e,t,r){return e.substr(0,t)+r+e.substr(t)}}]),e}()),G=function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"useLoggingInterceptor",value:function(t,r){var n=this;t.interceptors.request.use((function(t){var a;return t.metadata||(t.metadata={}),t.metadata.startTime=new Date,r.info("".concat(e.name,".").concat(n.useLoggingInterceptor.name,": Sending ").concat(null===(a=t.method)||void 0===a?void 0:a.toLocaleUpperCase()," request to ").concat(t.baseURL,"/").concat(t.url,".")),t}),(function(t){return r.error("".concat(e.name,".").concat(n.useLoggingInterceptor.name,": Encountered error during request pipeline: ").concat(t.message,"."),t),Promise.reject(t)})),t.interceptors.response.use((function(t){var a,i,o,s=t.config,c=s.method,u=s.url,l=s.baseURL,d=s.metadata,h=void 0===d?{}:d;return h.endTime=new Date,h.duration=(null!==(a=h.endTime.getTime())&&void 0!==a?a:0)-(null!==(i=null===(o=h.startTime)||void 0===o?void 0:o.getTime())&&void 0!==i?i:0),r.info("".concat(e.name,".").concat(n.useLoggingInterceptor.name,": Recieved response ").concat(t.status," ").concat(t.statusText," from ").concat(null===c||void 0===c?void 0:c.toLocaleUpperCase()," ").concat(l,"/").concat(u," in ").concat(h.duration,"ms.")),t}),(function(t){if(M.isAxiosError(t)&&t.response){var a,i,o,s=t.response,c=s.status,u=s.statusText,l=t.config,d=l.method,h=l.url,g=l.baseURL,m=l.metadata,f=void 0===m?{}:m;f.endTime=new Date,f.duration=(null!==(a=f.endTime.getTime())&&void 0!==a?a:0)-(null!==(i=null===(o=f.startTime)||void 0===o?void 0:o.getTime())&&void 0!==i?i:0);var v="".concat(e.name,".").concat(n.useLoggingInterceptor.name,": Recieved response ").concat(c," ").concat(u," from ").concat(null===d||void 0===d?void 0:d.toLocaleUpperCase()," ").concat(g,"/").concat(h," in ").concat(f.duration,"ms.");return c<C.InternalServerError?r.warn(v):r.error(v),Promise.reject(t)}return r.error("".concat(e.name,".").concat(n.useLoggingInterceptor.name,": An unexpected error occurred during response pipeline: ").concat(t.message,"."),t),Promise.reject(t)}))}},{key:"useRetryInterceptor",value:function(t,r,n){var a=this;t.interceptors.response.use((function(e){return e}),function(){var i=Object(g["a"])(regeneratorRuntime.mark((function i(o){var s,c,u,l,d,h,g,m,f,v,p,b,y;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=r.maxRetryAttempts,c=r.enabled,u=r.delayTimeInMs,c){i.next=4;break}return n.debug("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Retry not enabled.")),i.abrupt("return",Promise.reject(o));case 4:if(!M.isAxiosError(o)){i.next=21;break}if(l=o.response,d=o.config,h=d.method,g=d.url,m=d.baseURL,f=d.metadata,v=void 0===f?{}:f,p="".concat(null===h||void 0===h?void 0:h.toLocaleUpperCase()," ").concat(m,"/").concat(g),v.retryNumber||(v.retryNumber=0),!(v.retryNumber&&v.retryNumber>=s)){i.next=12;break}return n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Max retries of ").concat(s," reached. No longer attempting retries for ").concat(p,".")),i.abrupt("return",Promise.reject(o));case 12:if(b=function(){if(!l)return n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Network error: ").concat(o.message,". Request for ").concat(p," should be retried.")),!0;var t=[R.Get,R.Put,R.Options,R.Delete,R.Head];if(!h||!t.includes(h.toUpperCase()))return n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Request method ").concat(null===h||void 0===h?void 0:h.toLocaleUpperCase()," is not eligible for retry. Request for ").concat(p," should not be retried.")),!1;for(var r=[[100,199],[429,429],[500,599]],i=l.status,s=0,c=r;s<c.length;s++){var u=Object(N["a"])(c[s],2),d=u[0],g=u[1];if(i>=d&&i<=g)return n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Response status ").concat(i," meets retry eligibility. Request for ").concat(p," should be retried.")),!0}return n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Request for ").concat(p," should not be retried.")),!1},b()){i.next=15;break}return i.abrupt("return",Promise.reject(o));case 15:return v.retryNumber++,y=v.retryNumber<=1?0:u*Math.pow(2,v.retryNumber-1),n.info("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Retry number ").concat(v.retryNumber," of ").concat(s," after ").concat(y,"ms for ").concat(p,".")),i.next=20,q.wait(y);case 20:return i.abrupt("return",t(d));case 21:return n.warn("".concat(e.name,".").concat(a.useRetryInterceptor.name,": Unable to identify error. The request will not be retried."),o),i.abrupt("return",Promise.reject(o));case 23:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}},{key:"useCorrelationIdInterceptor",value:function(t,r){var n=this;t.interceptors.request.use((function(t){return t.metadata||(t.metadata={}),t.headers[i.CorrelationId]?(r.debug("".concat(e.name,".").concat(n.useCorrelationIdInterceptor.name,": Correlation id already attached to request.")),t.metadata.correlationId=t.headers[i.CorrelationId],t):(t.headers[i.CorrelationId]=Object(x["a"])(),t.metadata.correlationId=t.headers[i.CorrelationId],r.info("".concat(e.name,".").concat(n.useCorrelationIdInterceptor.name,": Correlation id generated and attached to request.")),t)}))}},{key:"useAuthorizationInterceptor",value:function(t,r,n){var a=this;t.interceptors.request.use(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(i){var o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.debug("".concat(e.name,".").concat(a.useAuthorizationInterceptor.name,": Attaching authorization token to request ").concat(null===(o=i.method)||void 0===o?void 0:o.toLocaleUpperCase(),": ").concat(i.baseURL,"/").concat(i.url,".")),t.next=3,r.getAccessToken();case 3:return c=t.sent,i.headers.authorization="Bearer ".concat(c),n.info("".concat(e.name,".").concat(a.useAuthorizationInterceptor.name,": Authorization token attached to request ").concat(null===(s=i.method)||void 0===s?void 0:s.toLocaleUpperCase(),": ").concat(i.baseURL,"/").concat(i.url,".")),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"useGetNotFoundNullInterceptor",value:function(t,r){var n=this;t.interceptors.response.use((function(e){return e}),(function(t){var a,i;if(M.isAxiosError(t)&&(null===(a=t.config.method)||void 0===a?void 0:a.toUpperCase())===R.Get&&(null===(i=t.response)||void 0===i?void 0:i.status)===C.NotFound){var o=t.response;return o.data=null,r.info("".concat(e.name,".").concat(n.useGetNotFoundNullInterceptor.name,": Error response eligible for null interception. Response body set to null and resolving promise.")),Promise.resolve(o)}return r.info("".concat(e.name,".").concat(n.useGetNotFoundNullInterceptor.name,": Error response not eligible for null interception. Rejecting promise.")),Promise.reject(t)}))}},{key:"useHandleUnauthorizedInterceptor",value:function(t,r,n){var a=this;t.interceptors.response.use((function(e){return e}),function(){var o=Object(g["a"])(regeneratorRuntime.mark((function o(s){var c,u,l,d,h,g,m;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!M.isAxiosError(s)){o.next=16;break}if(u=s.response,u=void 0===u?{}:u,l=u.headers,d=u.status,h=s.config,d!==C.Unauthorized||!l[i.TokenExpired]||null!==(c=h.metadata)&&void 0!==c&&c.refreshRetryAttempted){o.next=15;break}return n.debug("".concat(e.name,".").concat(a.useHandleUnauthorizedInterceptor.name,": ").concat(i.TokenExpired," header present with 401 status code. Attempting to refresh token...")),o.next=9,r.refreshAccessToken();case 9:return g=o.sent,m=g.token,h.headers.authorization="Bearer ".concat(m),h.metadata?h.metadata.refreshRetryAttempted=!0:h.metadata={refreshRetryAttempted:!0},n.info("".concat(e.name,".").concat(a.useHandleUnauthorizedInterceptor.name,": Auth token successfully refreshed. Retrying original request.")),o.abrupt("return",t(h));case 15:d!==C.Unauthorized&&d!==C.Forbidden||(n.warn("".concat(e.name,".").concat(a.useHandleUnauthorizedInterceptor.name,": Unauthorized action attempted.")),r.unauthorizedActionAttempted.next(d));case 16:return o.abrupt("return",Promise.reject(s));case 17:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}}]),e}(),z=function(){function e(t,r,n){Object(f["a"])(this,e),this.inProgressRequestMap=new Map;var a=r.wowMarketWatcherBaseUrl,i=r.retryOptions;if(!a)throw new Error("No wowMarketWatcherBaseUrl variable set.");this.logger=n,this.httpClient=t.create({baseURL:a}),G.useLoggingInterceptor(this.httpClient,n),G.useCorrelationIdInterceptor(this.httpClient,n),G.useGetNotFoundNullInterceptor(this.httpClient,n),G.useRetryInterceptor(this.httpClient,i,n)}return Object(v["a"])(e,[{key:"getAllPages",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,c,u,l,d,h,g,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(m["a"])({},r),null!==(n=a.first)&&void 0!==n||(a.first=100),a.includeEdges=!1,i=[],e.next=6,t(a);case 6:o=e.sent,s=o.nodes,c=void 0===s?[]:s,u=o.pageInfo,i=[].concat(Object(S["a"])(i),Object(S["a"])(c)),l=u;case 12:if(!l.hasNextPage||!l.endCursor){e.next=24;break}return a.after=l.endCursor,e.next=16,t(a);case 16:d=e.sent,h=d.nodes,g=void 0===h?[]:h,f=d.pageInfo,l=f,i=[].concat(Object(S["a"])(i),Object(S["a"])(g)),e.next=12;break;case 24:return e.abrupt("return",i);case 25:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]&&o[2],a=this.getInProgressCacheKey(R.Get,t),i=this.inProgressRequestMap.get(a),i&&!n||(i=this.httpClient.get(t,r),this.inProgressRequestMap.set(a,i)),e.prev=4,e.next=7,i;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this.inProgressRequestMap.delete(a),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]&&o[2],a=this.getInProgressCacheKey(R.Delete,t),i=this.inProgressRequestMap.get(a),i&&!n||(i=this.httpClient.delete(t,r),this.inProgressRequestMap.set(a,i)),e.prev=4,e.next=7,i;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this.inProgressRequestMap.delete(a),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],i=this.getInProgressCacheKey(R.Post,t),o=this.inProgressRequestMap.get(i),o&&!a||(o=this.httpClient.post(t,r,n),this.inProgressRequestMap.set(i,o)),e.prev=4,e.next=7,o;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this.inProgressRequestMap.delete(i),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],i=this.getInProgressCacheKey(R.Put,t),o=this.inProgressRequestMap.get(i),o&&!a||(o=this.httpClient.put(t,r,n),this.inProgressRequestMap.set(i,o)),e.prev=4,e.next=7,o;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this.inProgressRequestMap.delete(i),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"patch",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],i=this.getInProgressCacheKey(R.Patch,t),o=this.inProgressRequestMap.get(i),o&&!a||(o=this.httpClient.patch(t,r,n),this.inProgressRequestMap.set(i,o)),e.prev=4,e.next=7,o;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this.inProgressRequestMap.delete(i),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getInProgressCacheKey",value:function(e,t){return"".concat(e,":").concat(t)}}]),e}(),B=function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i){var o;return Object(f["a"])(this,r),o=t.call(this,e,a,i),o.authChanged=new L["a"],o.unauthorizedActionAttempted=new L["a"],o.accessTokenStorageKey="access-token",o.refreshTokenStorageKey="refresh-token",o.deviceIdStorageKey="device-id",o.userStorageKey="user",o.cachedAccessToken=null,o.cachedRefreshToken=null,o.cachedDeviceId=null,o.cachedLoggedInUser=null,o.localStorageService=n,o}return Object(v["a"])(r,[{key:"isUserLoggedIn",get:function(){return null!==this.loggedInUser}},{key:"loggedInUser",get:function(){if(!this.cachedLoggedInUser){var e=this.localStorageService.getParsedItem(this.userStorageKey);if(!e)return null;this.cachedLoggedInUser=e}return Object(m["a"])({},this.cachedLoggedInUser)}},{key:"accessToken",get:function(){if(!this.cachedAccessToken){var e=this.localStorageService.getItem(this.accessTokenStorageKey);if(!e)return null;this.cachedAccessToken=e}return this.cachedAccessToken}},{key:"refreshToken",get:function(){if(!this.cachedRefreshToken){var e=this.localStorageService.getItem(this.refreshTokenStorageKey);if(!e)return null;this.cachedRefreshToken=e}return this.cachedRefreshToken}},{key:"deviceId",get:function(){if(!this.cachedDeviceId){var e=this.localStorageService.getItem(this.deviceIdStorageKey);e?this.cachedDeviceId=e:(this.cachedDeviceId=Object(x["a"])(),this.localStorageService.setItem(this.deviceIdStorageKey,this.cachedDeviceId))}return this.cachedDeviceId}},{key:"registerUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.registerUser.name,": Registering user.")),e.next=3,this.post("auth/register",Object(m["a"])(Object(m["a"])({},t),{},{deviceId:this.deviceId}));case 3:return n=e.sent,a=n.data,this.handleLoginOrRegisterResponse(a),this.logger.info("".concat(r.name,".").concat(this.registerUser.name,": Registering user account complete.")),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerUserUsingGoogleAccount",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.registerUserUsingGoogleAccount.name,": Registering user using Google account.")),e.next=3,this.post("auth/register/google",{username:t,idToken:n,deviceId:this.deviceId});case 3:return a=e.sent,i=a.data,this.handleLoginOrRegisterResponse(i),this.logger.info("".concat(r.name,".").concat(this.registerUserUsingGoogleAccount.name,": Register user using Google account complete.")),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.login.name,": Logging the user in.")),e.next=3,this.post("auth/login",{username:t,password:n,deviceId:this.deviceId});case 3:return a=e.sent,i=a.data,this.handleLoginOrRegisterResponse(i),this.logger.info("".concat(r.name,".").concat(this.login.name,": User login complete.")),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"loginGoogle",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.loginGoogle.name,": Logging the user in using Google.")),e.next=3,this.post("auth/login/google",{idToken:t,deviceId:this.deviceId});case 3:return n=e.sent,a=n.data,this.handleLoginOrRegisterResponse(a),this.logger.info("".concat(r.name,".").concat(this.loginGoogle.name,": User Google login complete.")),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){this.logger.debug("".concat(r.name,".").concat(this.logout.name,": Logging the user out.")),this.localStorageService.clear(),this.cachedDeviceId=null,this.cachedAccessToken=null,this.cachedRefreshToken=null,this.cachedLoggedInUser=null,this.authChanged.next(!1),this.logger.info("".concat(r.name,".").concat(this.logout.name,": User has been logged out."))}},{key:"getAccessToken",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.accessToken){e.next=3;break}return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Access token is null.")),e.abrupt("return",null);case 3:if(!this.isTokenExpired(this.accessToken)){e.next=7;break}return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Access token is expired. Refreshing.")),e.next=7,this.refreshAccessToken();case 7:return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Returning cached access token.")),e.abrupt("return",this.accessToken);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshAccessToken",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.refreshAccessToken.name,": Refreshing access token.")),e.next=3,this.post("auth/refreshToken",{token:this.accessToken,refreshToken:this.refreshToken,deviceId:this.deviceId});case 3:return t=e.sent,n=t.data,a=n.token,i=n.refreshToken,this.cachedAccessToken=a,this.cachedRefreshToken=i,this.localStorageService.setItem(this.accessTokenStorageKey,a),this.localStorageService.setItem(this.refreshTokenStorageKey,i),this.logger.info("".concat(r.name,".").concat(this.refreshAccessToken.name,": Access token refreshed.")),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isTokenExpired",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(k["a"])(e),n=r.exp;if(!n)throw new Error("Token is missing exp claim");var a=Date.now()/1e3;return a>=n-t}},{key:"handleLoginOrRegisterResponse",value:function(e){var t=e.token,r=e.refreshToken,n=e.user;this.cachedAccessToken=t,this.cachedRefreshToken=r,this.cachedLoggedInUser=n,this.localStorageService.setItem(this.accessTokenStorageKey,t),this.localStorageService.setItem(this.refreshTokenStorageKey,r),this.localStorageService.setItem(this.userStorageKey,n),this.authChanged.next(!0)}}]),r}(z),K=new B(w.a,F,W,P),$=function(){function e(){Object(f["a"])(this,e),this.loadingStateChanged=new L["a"]}return Object(v["a"])(e,[{key:"startLoading",value:function(){this.loadingStateChanged.next(!0)}},{key:"stopLoading",value:function(){this.loadingStateChanged.next(!1)}}]),e}(),H=new $,Q=s["default"].extend({name:"Header",data:function(){return{loading:!1,showSettings:!1,drawer:!1,title:W.appTitle,isUserLoggedIn:!1,authChangedSubscription:new h["b"],loadingStateChangedSubscription:new h["b"]}},methods:{logout:function(){K.logout()}},mounted:function(){var e=this;this.isUserLoggedIn=K.isUserLoggedIn,this.authChangedSubscription=K.authChanged.subscribe((function(t){return e.isUserLoggedIn=t})),this.loadingStateChangedSubscription=H.loadingStateChanged.subscribe((function(t){return e.loading=t}))},beforeDestroy:function(){this.authChangedSubscription.unsubscribe(),this.loadingStateChangedSubscription.unsubscribe()}}),Y=Q,J=(r("a182"),r("2877")),Z=r("6544"),X=r.n(Z),ee=r("40dc"),te=r("5bc1"),re=r("8336"),ne=r("132d"),ae=r("8860"),ie=r("da13"),oe=r("1800"),se=r("5d23"),ce=r("f774"),ue=r("8e36"),le=r("2fa4"),de=r("8654"),he=r("2a7f"),ge=Object(J["a"])(Y,l,d,!1,null,"431fd383",null),me=ge.exports;X()(ge,{VAppBar:ee["a"],VAppBarNavIcon:te["a"],VBtn:re["a"],VIcon:ne["a"],VList:ae["a"],VListItem:ie["a"],VListItemAction:oe["a"],VListItemContent:se["a"],VListItemTitle:se["b"],VNavigationDrawer:ce["a"],VProgressLinear:ue["a"],VSpacer:le["a"],VTextField:de["a"],VToolbarTitle:he["a"]});var fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",{attrs:{absolute:"",padless:"",app:""}},[r("v-card",{attrs:{flat:"",tile:"",width:"100%"}},[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-card-text",[r("h3",[e._v("About")]),r("ul",{staticClass:"footer-list"},[r("li",[r("router-link",{attrs:{to:"/privacy"}},[e._v("Privacy")])],1),r("li",[r("router-link",{attrs:{to:"/faq"}},[e._v("FAQ")])],1)])])],1),r("v-col",{attrs:{cols:"4"}},[r("v-card-text",[r("h3",[e._v("Contact")]),r("ul",{staticClass:"footer-list"},[r("li",[r("strong",[e._v("Email:")]),e._v(" "),r("a",{attrs:{href:"mailto:nyi@example.com"}},[e._v("nyi@example.com")])])])])],1),r("v-col",{attrs:{cols:"4"}},[r("v-card-text",[e._v(" World of Warcraft, Warcraft and Blizzard Entertainment are trademarks or registered trademarks of Blizzard Entertainment, Inc. in the U.S. and/or other countries. ")])],1)],1),r("v-divider"),r("v-card-text",{staticClass:"text-center"},[e._v("Â© "+e._s((new Date).getFullYear()))])],1)],1)},ve=[],pe=s["default"].extend({name:"Footer"}),be=pe,ye=(r("68fb"),r("b0af")),we=r("99d9"),ke=r("62ad"),xe=r("ce7e"),Le=r("553a"),je=r("0fd9"),Re=Object(J["a"])(be,fe,ve,!1,null,"e73224dc",null),Ce=Re.exports;X()(Re,{VCard:ye["a"],VCardText:we["c"],VCol:ke["a"],VDivider:xe["a"],VFooter:Le["a"],VRow:je["a"]});var Ie=s["default"].extend({name:"App",components:{Header:me,Footer:Ce}}),Ae=Ie,Te=r("7496"),Oe=r("a523"),_e=r("f6c4"),We=Object(J["a"])(Ae,c,u,!1,null,null,null),Se=We.exports;X()(We,{VApp:Te["a"],VContainer:Oe["a"],VMain:_e["a"]});var Ue=r("9483");Object(Ue["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("6062");var De,Ee=r("8c4f"),Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showDeleteDialog,callback:function(t){e.showDeleteDialog=t},expression:"showDeleteDialog"}},[r("v-card",[r("v-card-title",{staticClass:"justify-center"},[e._v("Are you sure you want to delete your account?")]),r("v-card-text",[e._v(" All of your data will be deleted. This is not reversible. After your account has been deleted, you will be logged out and returned to the login page. ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelDeleteAccount}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteAccount}},[e._v("Delete My Account")]),r("v-spacer")],1)],1)],1),r("v-card",[r("v-card-title",[e._v("Account")]),r("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v("Profile")]),r("v-tab",[e._v("Preferences")])],1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("v-card",[r("v-card-text",[e._v("Stuff about you... Blah Blah Blah")]),r("v-card-actions",[r("v-btn",{attrs:{color:"error"},on:{click:function(t){e.showDeleteDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Delete Account ")],1)],1)],1)],1),r("v-tab-item",[r("v-card",[r("v-card-actions",[r("v-switch",{attrs:{label:"Dark Theme"},model:{value:e.isDarkThemeSet,callback:function(t){e.isDarkThemeSet=t},expression:"isDarkThemeSet"}})],1)],1)],1)],1)],1)],1)},Ve=[],Fe=function(){function e(t){Object(f["a"])(this,e),this.darkThemeSetKey="dark-theme-set",this.cachedDarkThemeSet=null,this.localStorageService=t}return Object(v["a"])(e,[{key:"darkThemeSet",get:function(){if(!this.cachedDarkThemeSet){var e=this.localStorageService.getItem(this.darkThemeSetKey);if(!e)return!0;this.cachedDarkThemeSet="true"===e}return this.cachedDarkThemeSet},set:function(e){this.cachedDarkThemeSet=e,this.localStorageService.setItem(this.darkThemeSetKey,e)}}]),e}(),Ne=new Fe(F),Me=(r("d81d"),r("4fad"),function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i){var o;return Object(f["a"])(this,r),o=t.call(this,e,a,i),G.useAuthorizationInterceptor(o.httpClient,n,i),G.useHandleUnauthorizedInterceptor(o.httpClient,n,i),o}return r}(z)),qe=function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(v["a"])(r,[{key:"getUsers",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("users");case 2:return t=e.sent,r=t.data.nodes,n=void 0===r?[]:r,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("users/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object.entries(r).map((function(e){var t=Object(N["a"])(e,2),r=t[0],n=t[1];return{op:"add",path:"/".concat(r),value:n}})),e.next=3,this.patch("users/".concat(t),n);case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"test",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:0,n=s.length>2&&void 0!==s[2]?s[2]:200,a=s.length>3&&void 0!==s[3]?s[3]:0,e.next=5,this.get("test?status=".concat(t,"&delay=").concat(r,"&statusAfter=").concat(n,"&per=").concat(a));case 5:return i=e.sent,o=i.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(Me),Ge=new qe(w.a,K,W,P),ze=r("72bf"),Be=r.n(ze),Ke=r("2ef0"),$e=r("c51e"),He=(r("a434"),function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"removeItem",value:function(e,t){var r=e.indexOf(t);return r>=0&&(e.splice(r,1),!0)}},{key:"removeRange",value:function(e,t){var r=this,n=!1;return t.forEach((function(t){n=r.removeItem(e,t)})),n}},{key:"removeWhere",value:function(e,t){var r=this,n=!1,a=[];return e.forEach((function(e){t(e)&&a.push(e)})),a.forEach((function(t){n=r.removeItem(e,t)})),n}},{key:"orderBy",value:function(e,t){var r=t.orderBy,n=t.comparer,a=t.direction;return n?e.sort((function(e,t){return n(e[r],t[r])})):e.sort((function(e,t){return"Descending"===a?e[r]<t[r]?1:e[r]>t[r]?-1:0:e[r]>t[r]?1:e[r]<t[r]?-1:0})),e}},{key:"shuffle",value:function(e){var t,r,n=e.length;while(0!==n)r=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[r],e[r]=t;return e}},{key:"getRandomElement",value:function(e){return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}}]),e}()),Qe=function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"dateAscending",value:function(e,t){return new Date(e).getTime()-new Date(t).getTime()}},{key:"dateDescending",value:function(e,t){return new Date(t).getTime()-new Date(e).getTime()}}]),e}();r("fb6a"),r("25f0");(function(e){e["Poor"]="#9d9d9d",e["Common"]="#ffffff",e["CommonLightTheme"]="#000000DE",e["Uncommon"]="#1eff00",e["Rare"]="#0070dd",e["Epic"]="#a335ee",e["Legendary"]="#ff8000",e["Artifact"]="#e6cc80",e["Heirloom"]="#00ccff",e["WoWToken"]="#00ccff"})(De||(De={}));var Ye=function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"getItemQualityColor",value:function(e,t){var r="string"===typeof e?e.toLowerCase():e.quality.toLowerCase();switch(r){case"poor":return De.Poor;case"common":return t?De.Common:De.CommonLightTheme;case"uncommon":return De.Uncommon;case"rare":return De.Rare;case"epic":return De.Epic;case"legendary":return De.Legendary;case"artifact":return De.Artifact;case"heirloom":return De.Heirloom;default:return De.Common}}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,r){if("number"===typeof e){if(void 0===t||void 0===r)throw new Error("g and b are required when passing number as first argument.");return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)}},{key:"isClose",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n="string"===typeof e?this.hexToRgb(e):e,a="string"===typeof t?this.hexToRgb(t):t;if(!n||!a)throw new Error("Unable to convert to rbg");var i=Math.abs(n.r-a.r)+Math.abs(n.g-a.g)+Math.abs(n.b-a.b);return i<r}},{key:"getColorGradient",value:function(e,t,r){var n=t.createLinearGradient(0,0,0,450),a=this.hexToRgb(e);if(!a)throw new Error("Unable to convert hex color to rgb.");return(null!==r&&void 0!==r?r:[{offset:0,alpha:.5},{offset:.5,alpha:.01},{offset:1,alpha:0}]).forEach((function(e){var t=e.offset,r=e.alpha;n.addColorStop(t,"rgba(".concat(a.r,", ").concat(a.g,", ").concat(a.b,", ").concat(r,")"))})),{gradient:n,color:e,rgb:a}}}]),e}(),Je=r("fcf4"),Ze=function(){function e(){Object(f["a"])(this,e)}return Object(v["a"])(e,null,[{key:"createVerticalLinePlugin",value:function(e){var t=null!==e&&void 0!==e?e:{},r=t.lineColor,n=t.lineWidth;return{id:"verticalLinePlugin",afterDatasetsDraw:function(e){var t,a,i;if(null!==(t=e.tooltip)&&void 0!==t&&t._active&&(null===(a=e.tooltip)||void 0===a||null===(i=a._active)||void 0===i?void 0:i.length)>0){var o=e.tooltip._active[0],s=e.ctx,c=e.scales["y-axis-0"],u=o.tooltipPosition().x,l=c.top,d=c.bottom;if(!s)return;s.save(),s.beginPath(),s.moveTo(u,l),s.lineTo(u,d),s.lineWidth=null!==n&&void 0!==n?n:1,s.strokeStyle=null!==r&&void 0!==r?r:Je["a"].grey.darken3,s.stroke(),s.restore()}}}}},{key:"createBackgroundColorPlugin",value:function(e){var t=e.backgroundColor;return{beforeDraw:function(e){var r=e.ctx,n=e.chartArea;r&&(r.save(),r.fillStyle=t,r.fillRect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.restore())}}}}]),e}(),Xe=function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i,o){var s;return Object(f["a"])(this,r),s=t.call(this,e,n,a,o),s.cache=i,s}return Object(v["a"])(r,[{key:"getAuctionTimeSeriesPage",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Be.a.stringify(t),n="wow/auctionTimeSeries?".concat(r),a=this.cache.get(n),!a){e.next=5;break}return e.abrupt("return",a);case 5:return e.next=7,this.get(n);case 7:return i=e.sent,o=i.data,this.cache.set(n,o,{onEntryEvicted:function(e){var t=e.key;return s.logger.info("Entry with key ".concat(t," has expired."))}}),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuctionTimeSeries",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAllPages((function(e){return a.getAuctionTimeSeriesPage(e)}),Object(m["a"])(Object(m["a"])({},t),{},{first:250}));case 2:return n=e.sent,r&&He.orderBy(n,r),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(Me),et=new Xe(w.a,K,W,new $e["LRUCache"]({maxSize:100,entryExpirationTimeInMS:9e5,clone:!0,cloneFn:Ke["cloneDeep"]}),P),tt=function(){function e(t,r,n){var a=this;Object(f["a"])(this,e),this.gapiScriptId="gapi-script",this.googleAuth=null,this.googleAuthConfig=t,this.logger=n,r.authChanged.subscribe(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,a.signOut();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.initializeAuth2()}return Object(v["a"])(e,[{key:"gapiScriptCreated",get:function(){return!!document.getElementById(this.gapiScriptId)}},{key:"gapiLoaded",get:function(){return this.gapiScriptCreated&&!!gapi}},{key:"gapiAuth2Loaded",get:function(){return this.gapiLoaded&&!!gapi.auth2}},{key:"gapiAuth2Initialized",get:function(){return this.gapiAuth2Loaded&&!!this.googleAuth}},{key:"isSignedIn",get:function(){return!!this.googleAuth&&this.googleAuth.isSignedIn.get()}},{key:"currentUser",get:function(){return this.googleAuth?this.googleAuth.currentUser.get():null}},{key:"currentUserIdToken",get:function(){var e,t;return(null===(e=this.currentUser)||void 0===e||null===(t=e.getAuthResponse())||void 0===t?void 0:t.id_token)||null}},{key:"installClient",value:function(){var e=this;return this.logger.debug("Installing gapi client..."),new Promise((function(t){if(e.gapiScriptCreated)e.logger.debug("gapi client already installed."),t();else{var r="https://apis.google.com/js/api.js",n=document.createElement("script");n.id=e.gapiScriptId,n.src=r,n.async=!0,n.defer=!0,document.head.appendChild(n),n.onload=function(){e.logger.debug("gapi client installation complete."),t()}}}))}},{key:"loadGapiAuth2",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Loading gapi auth2 library..."),!this.gapiAuth2Loaded){e.next=4;break}return this.logger.debug("gapi auth2 library already loaded."),e.abrupt("return");case 4:if(this.gapiLoaded){e.next=7;break}return e.next=7,this.installClient();case 7:return e.abrupt("return",new Promise((function(e){gapi.load("auth2",(function(){t.logger.debug("gapi auth2 library loaded."),e()}))})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeAuth2",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Initializing gapi auth2 client"),!this.gapiAuth2Initialized){e.next=4;break}return this.logger.debug("gapi auth2 client already initialized."),e.abrupt("return");case 4:if(this.gapiAuth2Loaded){e.next=7;break}return e.next=7,this.loadGapiAuth2();case 7:gapi.auth2.init(this.googleAuthConfig).then((function(e){t.logger.debug("gapi auth2 client initialized."),t.googleAuth=e}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Signing out of google auth"),this.gapiAuth2Initialized){e.next=4;break}return e.next=4,this.initializeAuth2();case 4:if(this.googleAuth){e.next=6;break}throw new Error("Google auth not initialized.");case 6:return e.abrupt("return",this.googleAuth.signOut());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Signing into google auth"),this.gapiAuth2Initialized){e.next=4;break}return e.next=4,this.initializeAuth2();case 4:if(this.googleAuth){e.next=6;break}throw new Error("Google auth not initialized.");case 6:return e.abrupt("return",this.googleAuth.signIn());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),rt=new tt({client_id:W.googleAuthClientId},K,P),nt=r("b85c"),at=(r("4de4"),function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i,o){var s;return Object(f["a"])(this,r),s=t.call(this,e,n,a,o),s.cache=i,s}return Object(v["a"])(r,[{key:"getWatchListsForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getUserWatchListsCacheKey(t),n=this.cache.get(r),!n){e.next=8;break}if(!Array.isArray(n)){e.next=7;break}return e.abrupt("return",n);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("users/".concat(t,"/watchLists"));case 10:a=e.sent,i=a.data.nodes,o=void 0===i?[]:i,this.cache.set(r,o),s=Object(nt["a"])(o);try{for(s.s();!(c=s.n()).done;)u=c.value,this.cache.set(this.getWatchListCacheKey(u.id),u)}catch(l){s.e(l)}finally{s.f()}return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.getWatchListCacheKey(r),a=this.cache.get(n),!a){e.next=8;break}if(!Array.isArray(a)){e.next=7;break}this.cache.delete(n),e.next=8;break;case 7:return e.abrupt("return",a);case 8:return e.next=10,this.get("users/".concat(t,"/watchLists/").concat(r));case 10:return i=e.sent,o=i.data,o&&this.cache.set(n,o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("users/".concat(t,"/watchLists"),r);case 2:return n=e.sent,a=n.data,i=this.getWatchListCacheKey(a.id),o=this.getUserWatchListsCacheKey(t),s=this.cache.get(o),Array.isArray(s)||this.cache.delete(o),this.cache.set(i,a),this.cache.set(o,[].concat(Object(S["a"])(Array.isArray(s)?s:[]),[a])),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addItemToWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("users/".concat(t,"/watchLists/").concat(r,"/items"),n);case 2:return a=e.sent,i=a.data,this.cache.set(this.getWatchListCacheKey(r),i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.entries(n).map((function(e){var t=Object(N["a"])(e,2),r=t[0],n=t[1];return{op:"add",path:"/".concat(r),value:n}})),e.next=3,this.patch("users/".concat(t,"/watchLists/").concat(r),a);case 3:return i=e.sent,o=i.data,this.cache.set(this.getWatchListCacheKey(r),o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"deleteWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t,"/watchLists/").concat(r));case 2:this.cache.delete(this.getWatchListCacheKey(r)),n=this.getUserWatchListsCacheKey(t),a=this.cache.get(n),a&&(Array.isArray(a)?this.cache.set(n,a.filter((function(e){return e.id!==r}))):this.cache.delete(n));case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteItemFromWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t,"/watchLists/").concat(r,"/items/").concat(n));case 2:return a=e.sent,i=a.data,this.cache.set(this.getWatchListCacheKey(r),i),o=this.getUserWatchListsCacheKey(t),s=this.cache.get(o),s&&(Array.isArray(s)?this.cache.set(o,[].concat(Object(S["a"])(s.filter((function(e){return e.id!==r}))),[i])):this.cache.delete(o)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getWatchListCacheKey",value:function(e){return"watchList:".concat(e)}},{key:"getUserWatchListsCacheKey",value:function(e){return"userWatchLists:".concat(e)}}]),r}(Me)),it=new at(w.a,K,W,new $e["LRUCache"]({maxSize:100,clone:!0,cloneFn:Ke["cloneDeep"]}),P),ot=function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i,o){var s;return Object(f["a"])(this,r),s=t.call(this,e,n,a,o),s.cache=i,s}return Object(v["a"])(r,[{key:"getRealms",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,o,s,c,u,l,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},r=h.length>1?h[1]:void 0,t.includeEdges=!1,n=Be.a.stringify(t),a="wow/realms?".concat(n),i=this.cache.get(a),!i){e.next=13;break}if(!M.isRealmArray(i)){e.next=12;break}return r&&He.orderBy(i,r),e.abrupt("return",i);case 12:this.cache.delete(a);case 13:return e.next=15,this.get(a);case 15:o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(a,c),u=Object(nt["a"])(c);try{for(u.s();!(l=u.n()).done;)d=l.value,this.cache.set(this.getRealmCacheKey(d.id),d)}catch(g){u.e(g)}finally{u.f()}return r&&He.orderBy(c,r),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRealm",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getRealmCacheKey(t),n=this.cache.get(r),!n){e.next=8;break}if(!M.isRealm(n)){e.next=7;break}return e.abrupt("return",n);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("wow/realms/".concat(t));case 10:return a=e.sent,i=a.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getConnectedRealms",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,o,s,c,u,l,d,h,g,m,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},r=f.length>1?f[1]:void 0,t.includeEdges=!1,n=Be.a.stringify(t),a="wow/connectedRealms?".concat(n),i=this.cache.get(a),!i){e.next=13;break}if(!M.isConnectedRealmArray(i)){e.next=12;break}return r&&He.orderBy(i,r),e.abrupt("return",i);case 12:this.cache.delete(a);case 13:return e.next=15,this.get(a);case 15:o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(a,c),u=Object(nt["a"])(c);try{for(u.s();!(l=u.n()).done;){d=l.value,this.cache.set(this.getConnectedRealmCacheKey(d.id),d),h=Object(nt["a"])(d.realms);try{for(h.s();!(g=h.n()).done;)m=g.value,this.cache.set(this.getRealmCacheKey(m.id),m)}catch(v){h.e(v)}finally{h.f()}}}catch(v){u.e(v)}finally{u.f()}return r&&He.orderBy(c,r),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getConnectedRealm",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getConnectedRealmCacheKey(t),n=this.cache.get(r),!n){e.next=8;break}if(!M.isConnectedRealm(n)){e.next=7;break}return e.abrupt("return",n);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("wow/connectedRealms/".concat(t));case 10:return a=e.sent,i=a.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRealmCacheKey",value:function(e){return"realm:".concat(e)}},{key:"getConnectedRealmCacheKey",value:function(e){return"connectedRealm:".concat(e)}}]),r}(Me),st=new ot(w.a,K,W,new $e["LRUCache"]({maxSize:500,clone:!0,cloneFn:Ke["cloneDeep"]}),P),ct=function(e){Object(p["a"])(r,e);var t=Object(b["a"])(r);function r(e,n,a,i,o){var s;return Object(f["a"])(this,r),s=t.call(this,e,n,a,o),s.cache=i,s}return Object(v["a"])(r,[{key:"getItems",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.includeEdges=!1,n=Be.a.stringify(t),a="wow/items?".concat(n),i=this.cache.get(a),!i||!Array.isArray(i)){e.next=7;break}return r&&He.orderBy(i,r),e.abrupt("return",i);case 7:return e.next=9,this.get(a);case 9:return o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(a,c),r&&He.orderBy(c,r),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getItem",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="wow/items/".concat(t),n=this.cache.get(r),!n||Array.isArray(n)){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.get(r);case 6:return a=e.sent,i=a.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(Me),ut=new ct(w.a,K,W,new $e["LRUCache"]({maxSize:100,clone:!0,cloneFn:Ke["cloneDeep"]}),P),lt=s["default"].extend({data:function(){return{user:{},userId:NaN}},mounted:function(){var e=K.loggedInUser;if(!e)return K.unauthorizedActionAttempted.next(),void P.warn("No user logged in.");this.user=e,this.userId=e.id}}),dt=s["default"].extend({name:"Account",mixins:[lt],data:function(){return{tab:null,showDeleteDialog:!1}},methods:{cancelDeleteAccount:function(){this.showDeleteDialog=!1},deleteAccount:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.showDeleteDialog=!1,H.startLoading(),t.next=5,Ge.deleteUser(e.userId);case 5:K.logout(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),P.error(t.t0);case 11:return t.prev=11,H.stopLoading(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}},computed:{isDarkThemeSet:{get:function(){return Ne.darkThemeSet},set:function(e){this.$vuetify.theme.dark=e,Ne.darkThemeSet=e}}}}),ht=dt,gt=r("169a"),mt=r("b73d"),ft=r("71a3"),vt=r("c671"),pt=r("fe57"),bt=r("aac8"),yt=Object(J["a"])(ht,Pe,Ve,!1,null,null,null),wt=yt.exports;X()(yt,{VBtn:re["a"],VCard:ye["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VContainer:Oe["a"],VDialog:gt["a"],VIcon:ne["a"],VSpacer:le["a"],VSwitch:mt["a"],VTab:ft["a"],VTabItem:vt["a"],VTabs:pt["a"],VTabsItems:bt["a"]});var kt,xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",["Google"===e.socialLoginType?r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"registerUsingGoogleAccountForm",on:{submit:function(t){return t.preventDefault(),e.registerUsingGoogleAccount(t)}},model:{value:e.registerUsingGoogleAccountForm.formValid,callback:function(t){e.$set(e.registerUsingGoogleAccountForm,"formValid",t)},expression:"registerUsingGoogleAccountForm.formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Register using Google Account")]),r("v-card-text",[e.errorMessage?r("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e(),r("v-text-field",{attrs:{rules:e.registerUsingGoogleAccountForm.usernameRules,label:"Username*",required:""},model:{value:e.registerUsingGoogleAccountForm.username,callback:function(t){e.$set(e.registerUsingGoogleAccountForm,"username",t)},expression:"registerUsingGoogleAccountForm.username"}}),r("small",[e._v("*indicates required field")])],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.registerUsingGoogleAccountForm.formValid,color:"success",type:"submit"}},[e._v("Continue")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetRegisterUsingGoogleAccountForm}},[e._v("Clear")])],1)],1)],1):r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"registerForm",on:{submit:function(t){return t.preventDefault(),e.register(t)}},model:{value:e.registerForm.formValid,callback:function(t){e.$set(e.registerForm,"formValid",t)},expression:"registerForm.formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Register")]),r("v-card-text",[e.errorMessage?r("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e(),r("v-text-field",{attrs:{type:"email",rules:e.registerForm.emailRules,label:"Email*",required:""},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),r("v-text-field",{attrs:{rules:e.registerForm.usernameRules,label:"Username*",autocomplete:"username",required:""},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}}),r("v-text-field",{attrs:{type:"password",rules:e.registerForm.passwordRules,label:"Password*",autocomplete:"new-password",required:""},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("v-text-field",{attrs:{type:"password",rules:e.confirmPasswordRules,label:"Confirm Password*",autocomplete:"new-password",required:""}}),r("small",[e._v("*indicates required field")])],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("div",[r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.registerForm.formValid,color:"success",type:"submit"}},[e._v("Continue")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetRegisterForm}},[e._v("Clear")])],1),r("v-card-actions",{staticClass:"justify-center"},[r("router-link",{attrs:{to:"/login"}},[e._v("Already signed up? Log in!")])],1)],1),r("br")],1)],1)],1)],1)],1)],1)},Lt=[];r("1276");(function(e){e["Account"]="Account",e["Register"]="Register",e["Login"]="Login",e["Default"]="Default",e["WatchLists"]="WatchLists",e["WatchList"]="WatchList",e["Test"]="Test",e["FAQ"]="FAQ",e["Privacy"]="Privacy",e["NotFound"]="NotFound",e["Forbidden"]="Forbidden"})(kt||(kt={}));var jt=s["default"].extend({name:"Register",data:function(){return{socialLoginType:null,registerUsingGoogleAccountForm:{username:null,usernameRules:[function(e){return!!e||"Username is required"}],idToken:null,formValid:!1},registerForm:{username:null,usernameRules:[function(e){return!!e||"Username is required"}],password:null,passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6&&e.length<=256||"Password must be between 6 and 256 characters long."}],email:null,emailRules:[function(e){return!!e||"Email is required"}],formValid:!1},errorMessage:null,loading:!1}},methods:{register:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.registerForm,n=r.username,a=r.password,i=r.formValid,o=r.email,i&&a&&n&&o){t.next=4;break}return e.errorMessage="Invalid form.",t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,K.registerUser({username:n,password:a,email:o});case 8:e.errorMessage=null,e.$router.push({name:kt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.errorMessage="Something went wrong.";case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},registerUsingGoogleAccount:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.registerUsingGoogleAccountForm,n=r.username,a=r.idToken,i=r.formValid,i&&a&&n){t.next=4;break}return e.errorMessage="Invalid form.",t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,K.registerUserUsingGoogleAccount(n,a);case 8:e.errorMessage=null,e.$router.push({name:kt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.errorMessage="Something went wrong.";case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},resetRegisterForm:function(){this.errorMessage=null,this.$refs.registerForm.reset()},resetRegisterUsingGoogleAccountForm:function(){this.errorMessage=null,this.$refs.registerUsingGoogleAccountForm.reset()}},computed:{confirmPasswordRules:function(){var e=this;return[function(t){return t===e.registerForm.password||"Passwords must match."}]}},mounted:function(){var e=this.$route.query.socialLogin;if(e&&e===j.Google&&rt.isSignedIn&&rt.currentUser){var t;this.socialLoginType=j.Google;var r=rt.currentUser;this.registerUsingGoogleAccountForm.idToken=r.getAuthResponse().id_token,this.registerUsingGoogleAccountForm.username=(null===(t=r.getBasicProfile().getEmail())||void 0===t?void 0:t.split("@")[0])||null}}}),Rt=jt,Ct=r("0798"),It=r("4bd4"),At=r("490a"),Tt=Object(J["a"])(Rt,xt,Lt,!1,null,null,null),Ot=Tt.exports;X()(Tt,{VAlert:Ct["a"],VBtn:re["a"],VCard:ye["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:ke["a"],VContainer:Oe["a"],VForm:It["a"],VProgressCircular:At["a"],VRow:je["a"],VTextField:de["a"]});var _t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login(t)}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Login")]),r("v-card-text",[r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.showErrorAlert,callback:function(t){e.showErrorAlert=t},expression:"showErrorAlert"}},[e._v(e._s(e.errorMessage))]),r("v-text-field",{attrs:{rules:e.usernameRules,label:"Username",autocomplete:"current-username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",autocomplete:"current-password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("div",[r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.formValid,color:"success",type:"submit"},on:{click:e.login}},[e._v("Login")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetForm}},[e._v("Clear")])],1),r("v-card-text",{staticClass:"text-center"},[r("strong",[e._v("Or")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"google-btn",attrs:{color:"white"},on:{click:e.googleLogin}},[r("img",{staticClass:"google-btn-logo",attrs:{src:"img/google-logo.png",alt:"Google logo"}}),r("span",{staticClass:"google-btn-text"},[e._v("Continue with Google")])])],1),r("v-card-actions",{staticClass:"justify-center"},[r("router-link",{attrs:{to:"/register"}},[e._v("Not signed up yet? Sign up!")])],1)],1),r("br")],1)],1)],1)],1)],1)],1)},Wt=[],St=s["default"].extend({name:"Login",data:function(){return{username:null,usernameRules:[function(e){return!!e||"Username is required"}],password:null,passwordRules:[function(e){return!!e||"Password is required"}],formValid:!1,errorMessage:null,showErrorAlert:!1,loading:!1}},methods:{googleLogin:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.clearErrorMessage(),t.prev=2,t.next=5,rt.signIn();case 5:return r=t.sent,n=r.getAuthResponse().id_token,t.next=9,K.loginGoogle(n);case 9:e.errorMessage=null,e.$router.push({name:kt.WatchLists}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),M.isAxiosError(t.t0)&&404===(null===(a=t.t0.response)||void 0===a?void 0:a.status)?e.$router.push({name:kt.Register,query:{socialLogin:j.Google}}):e.showErrorMessage("Unable to login with Google.");case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))()},login:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.clearErrorMessage(),e.username&&e.password){t.next=4;break}return e.showErrorMessage("Username and password are required."),t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,K.login(e.username,e.password);case 8:e.errorMessage=null,e.$router.push({name:kt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),M.isAxiosError(t.t0)&&401===(null===(r=t.t0.response)||void 0===r?void 0:r.status)?e.showErrorMessage("Invalid username or password."):e.showErrorMessage("Unable to login.");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},showErrorMessage:function(e){this.errorMessage=e,this.showErrorAlert=!0},clearErrorMessage:function(){this.errorMessage=null,this.showErrorAlert=!1},resetForm:function(){this.errorMessage=null,this.$refs.form.reset()}}}),Ut=St,Dt=(r("1cdcf"),Object(J["a"])(Ut,_t,Wt,!1,null,"7ec25dc6",null)),Et=Dt.exports;X()(Dt,{VAlert:Ct["a"],VBtn:re["a"],VCard:ye["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:ke["a"],VContainer:Oe["a"],VForm:It["a"],VProgressCircular:At["a"],VRow:je["a"],VTextField:de["a"]});var Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Testing Page")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],attrs:{type:"number"},domProps:{value:e.status},on:{input:function(t){t.target.composing||(e.status=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.statusAfter,expression:"statusAfter"}],attrs:{type:"number"},domProps:{value:e.statusAfter},on:{input:function(t){t.target.composing||(e.statusAfter=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.delay,expression:"delay"}],attrs:{type:"number"},domProps:{value:e.delay},on:{input:function(t){t.target.composing||(e.delay=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.per,expression:"per"}],attrs:{type:"number"},domProps:{value:e.per},on:{input:function(t){t.target.composing||(e.per=t.target.value)}}}),r("button",{on:{click:function(t){return e.test()}}},[e._v("Test")]),r("button",{on:{click:function(t){return e.getUsers()}}},[e._v("Test Get Users")])])},Vt=[],Ft=s["default"].extend({name:"Test",data:function(){return{status:500,statusAfter:200,delay:0,per:0}},methods:{test:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.test(e.status,e.delay,e.statusAfter,e.per);case 2:case"end":return t.stop()}}),t)})))()},getUsers:function(){return Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.getUsers();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()}}}),Nt=Ft,Mt=Object(J["a"])(Nt,Pt,Vt,!1,null,null,null),qt=Mt.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showDeleteDialog,callback:function(t){e.showDeleteDialog=t},expression:"showDeleteDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelDeleteStagedWatchList}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteStagedWatchList}},[e._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.editWatchList.showDialog,callback:function(t){e.$set(e.editWatchList,"showDialog",t)},expression:"editWatchList.showDialog"}},[r("v-card",[r("v-form",{ref:"editWatchListForm",on:{submit:function(t){return t.preventDefault(),e.saveEditWatchList(t)}},model:{value:e.editWatchList.formValid,callback:function(t){e.$set(e.editWatchList,"formValid",t)},expression:"editWatchList.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Edit Watch List")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Name",rules:e.watchListCommon.nameRules},on:{input:function(t){e.editWatchList.watchListToEdit.name.edited=!0}},model:{value:e.editWatchList.watchListToEdit.name.value,callback:function(t){e.$set(e.editWatchList.watchListToEdit.name,"value",t)},expression:"editWatchList.watchListToEdit.name.value"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Description"},on:{input:function(t){e.editWatchList.watchListToEdit.description.edited=!0}},model:{value:e.editWatchList.watchListToEdit.description.value,callback:function(t){e.$set(e.editWatchList.watchListToEdit.description,"value",t)},expression:"editWatchList.watchListToEdit.description.value"}})],1)],1)],1)],1),e.editWatchList.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEditWatchListDialog}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:0===Object.keys(e.editedWatchListValues).length}},[e._v("Save")])],1)],1)],1)],1),e.pageLoading?r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1):r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-title",[e._v("My Watch Lists")]),r("v-card-actions",[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"success",dark:""}},"v-btn",a,!1),n),[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" Create New ")],1)]}}],null,!1,885267179),model:{value:e.createNewWatchList.showDialog,callback:function(t){e.$set(e.createNewWatchList,"showDialog",t)},expression:"createNewWatchList.showDialog"}},[r("v-card",[r("v-form",{ref:"createWatchListForm",on:{submit:function(t){return t.preventDefault(),e.createWatchList(t)}},model:{value:e.createNewWatchList.formValid,callback:function(t){e.$set(e.createNewWatchList,"formValid",t)},expression:"createNewWatchList.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Create New Watch List")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Name*",rules:e.watchListCommon.nameRules,required:""},model:{value:e.createNewWatchList.watchListToCreate.name,callback:function(t){e.$set(e.createNewWatchList.watchListToCreate,"name",t)},expression:"createNewWatchList.watchListToCreate.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{staticClass:"mx-4",attrs:{items:e.realms,"item-text":"name","item-value":"id","hide-no-data":"","hide-details":"",label:"Realm"},model:{value:e.createNewWatchList.selectedRealmId,callback:function(t){e.$set(e.createNewWatchList,"selectedRealmId",t)},expression:"createNewWatchList.selectedRealmId"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Description"},model:{value:e.createNewWatchList.watchListToCreate.description,callback:function(t){e.$set(e.createNewWatchList.watchListToCreate,"description",t)},expression:"createNewWatchList.watchListToCreate.description"}})],1)],1)],1),r("small",[e._v("*indicates required field")])],1),e.createNewWatchList.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.createNewWatchList.showDialog=!1,e.resetCreateWatchListForm()}}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:!e.createNewWatchList.formValid}},[e._v(" Create ")])],1)],1)],1)],1)],1)],1)],1),e._l(e.watchLists,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12",lg:"6"}},[r("v-card",[r("v-card-title",[e._v(e._s(t.name))]),r("v-card-text",[e._v(" "+e._s(t.description)+" "),r("br"),e._v(" "+e._s("Realm"+(t.realms.length>1?"s":"")+": "+t.realms.reduce((function(e,t,r){return(0===r?"":e+", ")+t})))+" "),r("br"),e._v(" Population: "+e._s(t.population)+" ")]),r("v-card-actions",[r("v-btn",{attrs:{color:"accent"},on:{click:function(r){return e.goToWatchList(t.id)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-view-list ")]),e._v("View")],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(r){return e.stageEditWatchList(t)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-pencil ")]),e._v("Edit")],1),r("v-btn",{attrs:{color:"error"},on:{click:function(r){e.stagedWatchListToDelete=t,e.showDeleteDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Delete")],1)],1)],1)],1)}))],2)],1)},zt=[],Bt=r("ade3"),Kt=(r("13d5"),s["default"].extend({name:"WatchLists",mixins:[lt],data:function(){return{pageLoading:!1,loadingSubscription:new h["b"],watchLists:[],showDeleteDialog:!1,stagedWatchListToDelete:null,realms:[],realmsLookup:new Map,connectedRealms:new Map,watchListCommon:{nameRules:[function(e){return!!e||"Name is required"}]},createNewWatchList:{loading:!1,selectedRealmId:null,formValid:!1,showDialog:!1,watchListToCreate:{}},editWatchList:{stagedWatchList:null,watchListToEdit:{name:{edited:!1,value:""},description:{edited:!1,value:""}},loading:!1,formValid:!1,showDialog:!1,watchListIndex:NaN}}},methods:{goToWatchList:function(e){this.$router.push({name:kt.WatchList,params:{id:e.toString()}})},cancelDeleteStagedWatchList:function(){this.showDeleteDialog=!1,this.stagedWatchListToDelete=null},deleteStagedWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.stagedWatchListToDelete){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,it.deleteWatchListForUser(e.userId,e.stagedWatchListToDelete.id);case 5:e.watchLists=e.watchLists.filter((function(t){var r;return t.id!==(null===(r=e.stagedWatchListToDelete)||void 0===r?void 0:r.id)})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.prev=11,e.stagedWatchListToDelete=null,e.showDeleteDialog=!1,t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[2,8,11,15]])})))()},createWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.createNewWatchList,n=r.watchListToCreate,a=r.selectedRealmId,!q.isEmptyObject(n)&&a){t.next=3;break}return t.abrupt("return");case 3:if(i=e.realmsLookup.get(a),i){t.next=6;break}return t.abrupt("return");case 6:return n.connectedRealmId=i.connectedRealmId,t.prev=7,e.createNewWatchList.loading=!0,t.next=11,it.createWatchListForUser(e.userId,n);case 11:l=t.sent,e.watchLists.push(Object(m["a"])(Object(m["a"])({},l),{},{population:null!==(o=null===(s=e.connectedRealms.get(l.connectedRealmId))||void 0===s?void 0:s.population)&&void 0!==o?o:"",realms:null!==(c=null===(u=e.connectedRealms.get(l.connectedRealmId))||void 0===u?void 0:u.realms.map((function(e){return e.name})).sort())&&void 0!==c?c:[]})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](7),console.error(t.t0);case 18:return t.prev=18,e.createNewWatchList.selectedRealmId=null,e.createNewWatchList.loading=!1,e.createNewWatchList.showDialog=!1,e.resetCreateWatchListForm(),t.finish(18);case 24:case"end":return t.stop()}}),t,null,[[7,15,18,24]])})))()},stageEditWatchList:function(e){var t=this;this.editWatchList.watchListIndex=this.watchLists.indexOf(e),Object.keys(this.editWatchList.watchListToEdit).forEach((function(r){t.editWatchList.watchListToEdit[r]={edited:!1,value:e[r]}})),this.editWatchList.stagedWatchList=e,this.editWatchList.showDialog=!0},saveEditWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.watchLists,n=e.editWatchList,a=n.stagedWatchList,i=n.watchListToEdit,o=n.watchListIndex,i&&a){t.next=6;break}return P.error("No watch list staged for editing."),e.closeEditWatchListDialog(),t.abrupt("return");case 6:if(!q.isEmptyObject(e.editedWatchListValues)){t.next=9;break}return e.closeEditWatchListDialog(),t.abrupt("return");case 9:return e.editWatchList.loading=!0,t.prev=10,t.next=13,it.updateWatchListForUser(e.userId,a.id,e.editedWatchListValues);case 13:s=t.sent,r.splice(o,1,Object(m["a"])(Object(m["a"])({},a),s)),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](10),P.error("Unable to update budget: ".concat(t.t0.message));case 20:return t.prev=20,e.closeEditWatchListDialog(),e.editWatchList.loading=!1,t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[10,17,20,24]])})))()},closeEditWatchListDialog:function(){var e=this;this.editWatchList.stagedWatchList=null,this.editWatchList.watchListIndex=NaN,this.editWatchList.showDialog=!1,Object.keys(this.editWatchList.watchListToEdit).forEach((function(t){e.editWatchList.watchListToEdit[t]={edited:!1,value:""}})),this.resetEditWatchListForm()},resetCreateWatchListForm:function(){this.$refs.createWatchListForm.reset()},resetEditWatchListForm:function(){this.$refs.editWatchListForm.reset()}},computed:{editedWatchListValues:function(){return Object.entries(this.editWatchList.watchListToEdit).filter((function(e){var t=Object(N["a"])(e,2),r=t[1];return r&&r.edited})).reduce((function(e,t){var r=Object(N["a"])(t,2),n=r[0],a=r[1].value;return Object(m["a"])(Object(m["a"])({},e),{},Object(Bt["a"])({},n,a))}),{})}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingSubscription=H.loadingStateChanged.subscribe((function(t){return e.pageLoading=t})),H.startLoading(),r=st.getConnectedRealms(),t.next=5,it.getWatchListsForUser(e.userId);case 5:return n=t.sent,t.next=8,r;case 8:a=t.sent,i=Object(nt["a"])(a);try{for(i.s();!(o=i.n()).done;){s=o.value,e.connectedRealms.set(s.id,s),c=Object(nt["a"])(s.realms);try{for(c.s();!(u=c.n()).done;)l=u.value,e.realmsLookup.set(l.id,l),e.realms.push(l)}catch(d){c.e(d)}finally{c.f()}}}catch(d){i.e(d)}finally{i.f()}e.realms.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e.watchLists=n.map((function(t){var r,n,a,i;return Object(m["a"])(Object(m["a"])({},t),{},{population:null!==(r=null===(n=e.connectedRealms.get(t.connectedRealmId))||void 0===n?void 0:n.population)&&void 0!==r?r:"",realms:null!==(a=null===(i=e.connectedRealms.get(t.connectedRealmId))||void 0===i?void 0:i.realms.map((function(e){return e.name})).sort())&&void 0!==a?a:[]})})),H.stopLoading();case 14:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.loadingSubscription.unsubscribe()}})),$t=Kt,Ht=r("c6a6"),Qt=r("3129"),Yt=r("a844"),Jt=Object(J["a"])($t,Gt,zt,!1,null,null,null),Zt=Jt.exports;X()(Jt,{VAutocomplete:Ht["a"],VBtn:re["a"],VCard:ye["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:ke["a"],VContainer:Oe["a"],VDialog:gt["a"],VForm:It["a"],VIcon:ne["a"],VProgressCircular:At["a"],VRow:je["a"],VSkeletonLoader:Qt["a"],VSpacer:le["a"],VTextField:de["a"],VTextarea:Yt["a"]});var Xt,er,tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[!e.pageLoading&&e.chartDatas?r("v-row",[r("v-col",{attrs:{cols:"12"}},[e.watchList?r("v-card",{attrs:{elevation:"2"}},[r("v-card-title",[e._v(e._s(e.watchList.name))]),r("v-card-text",[e._v(" "+e._s(e.watchList.description)+" "),r("br"),e._v(" "+e._s("Realm"+(e.watchListConnectedRealm.realms.length>1?"s":"")+": "+e.watchListConnectedRealm.realms.map((function(e){return e.name})).sort().reduce((function(e,t,r){return(0===r?"":e+", ")+t})))+" "),r("br"),e._v(" Population: "+e._s(e.watchListConnectedRealm.population)+" ")]),r("v-card-actions",[r("v-row",[r("v-col",[r("v-btn-toggle",{attrs:{group:""},model:{value:e.timeFrame,callback:function(t){e.timeFrame=t},expression:"timeFrame"}},[r("v-btn",{attrs:{value:"week"},on:{click:e.useWeekTimeRange}},[e._v("Week")]),r("v-btn",{attrs:{value:"twoWeeks"},on:{click:e.useTwoWeekTimeRange}},[e._v("Two Weeks")]),r("v-btn",{attrs:{value:"month"},on:{click:e.useMonthTimeRange}},[e._v("Month")])],1)],1),r("v-spacer"),r("v-col",[r("v-autocomplete",{staticClass:"mx-4",attrs:{items:e.items,loading:e.itemsLoading,"search-input":e.itemsSearchTerm,"cache-items":"","item-text":"name","item-value":"id","hide-no-data":"","hide-details":"",label:"Items"},on:{"update:searchInput":function(t){e.itemsSearchTerm=t},"update:search-input":function(t){e.itemsSearchTerm=t},change:e.disableWoWHeadLinks},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.parent,a=t.item;return[r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:e._s(""+e.genFilteredColoredText(a.name,e.getItemQualityColor(a.quality),n))}})],1)]}}],null,!1,2146057520),model:{value:e.selectedItemId,callback:function(t){e.selectedItemId=t},expression:"selectedItemId"}})],1),r("v-col",[r("v-btn",{attrs:{color:"success",disabled:null===e.selectedItemId},on:{click:e.addSelectedItemToWatchList}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v("Add Item")],1)],1)],1)],1)],1):e._e()],1),e._l(e.chartDatas,(function(t){var n=t.data,a=t.name,i=t.id,o=t.itemQuality;return r("v-col",{key:i,attrs:{cols:"12"}},[r("v-card",{attrs:{elevation:"2"}},[r("v-card-title",[r("span",{style:{color:e.getItemQualityColor(o)}},[e._v(e._s(a))]),r("v-spacer"),r("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.removeItemFromWatchList(i)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Remove")],1)],1),r("v-card-subtitle",[r("a",{attrs:{href:"https://www.wowhead.com/item="+i,target:"_blank"}},[e._v("WoWHead Tooltip")])]),r("v-card-text",[n.datasets&&n.datasets.length>0&&n.datasets.some((function(e){return Array.isArray(e.data)&&e.data.length>1}))?r("line-chart",{attrs:{chartData:n,chartOptions:e.chartOptions,chartPlugins:e.chartPlugins}}):r("p",[e._v("Not enough data yet for this item. Please check back later!")])],1)],1)],1)}))],2):r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1)],1)},rr=[],nr=(r("7db0"),r("cb29"),r("c0a4")),ar=r.n(nr),ir=r("1fca"),or=ir["b"].reactiveProp,sr=s["default"].extend({name:"LineChart",extends:ir["a"],mixins:[or],props:{chartOptions:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1}},required:!1},chartColors:{type:Array,required:!1,validator:function(e){return!!Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))}},chartPlugins:{type:Array,required:!1,default:function(){return[]}}},mounted:function(){var e,t,r=this,n=this.$refs.canvas.getContext("2d");if(n){this.chartPlugins.forEach((function(e){return r.addPlugin(e)}));var a=null!==(e=this.chartColors)&&void 0!==e?e:[ar.a.purple.base,ar.a.blue.base,ar.a.red.base,ar.a.amber.base,ar.a.indigo.base,ar.a.green.base,ar.a.pink.base,ar.a.cyan.base];null===(t=this.chartData.datasets)||void 0===t||t.forEach((function(e,t){var r,i,o,s,c=Ye.getColorGradient(a[t%a.length],n),u=c.gradient,l=c.color;null!==(r=e.backgroundColor)&&void 0!==r||(e.backgroundColor=u),null!==(i=e.borderColor)&&void 0!==i||(e.borderColor=l),null!==(o=e.borderWidth)&&void 0!==o||(e.borderWidth=1),null!==(s=e.fill)&&void 0!==s||(e.fill=!0)})),this.renderChart(this.chartData,this.chartOptions),this.$on("chart:update",(function(){var e;null===(e=r.chartData.datasets)||void 0===e||e.forEach((function(e,t){var r,i,o,s,c=Ye.getColorGradient(a[t%a.length],n),u=c.gradient,l=c.color;null!==(r=e.backgroundColor)&&void 0!==r||(e.backgroundColor=u),null!==(i=e.borderColor)&&void 0!==i||(e.borderColor=l),null!==(o=e.borderWidth)&&void 0!==o||(e.borderWidth=1),null!==(s=e.fill)&&void 0!==s||(e.fill=!0)})),r.renderChart(r.chartData,r.chartOptions)}))}else P.error("No context found.")}}),cr=sr,ur=Object(J["a"])(cr,Xt,er,!1,null,null,null),lr=ur.exports,dr=s["default"].extend({name:"WatchList",components:{LineChart:lr},mixins:[lt],props:{id:{type:String,required:!0}},data:function(){return{pageLoading:!1,pageLoadingSubscription:new h["b"],watchList:void 0,watchListConnectedRealm:{},chartDatas:void 0,chartOptions:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{filter:function(e,t){var r,n;return"Total Available"!==(null!==(r=t.datasets)&&void 0!==r?r:[])[null!==(n=e.datasetIndex)&&void 0!==n?n:0].label}}},tooltips:{intersect:!1,mode:"index",callbacks:{title:function(e){var t;return e.length>0?new Date(null!==(t=e[0].label)&&void 0!==t?t:"").toLocaleString("en-US"):"No Label"},label:function(e,t){var r,n,a,i,o,s=null!==(r=t.datasets)&&void 0!==r?r:[],c=s[null!==(n=e.datasetIndex)&&void 0!==n?n:0],u="".concat(c.label,": ").concat(null===(a=(null!==(i=c.data)&&void 0!==i?i:[])[null!==(o=e.index)&&void 0!==o?o:0].y)||void 0===a?void 0:a.toLocaleString("en-US",{maximumFractionDigits:2}));if(0===e.datasetIndex){var l,d,h,g=s.find((function(e){return"Total Available"===e.label}));return["".concat(null===g||void 0===g?void 0:g.label,": ").concat(null===(l=(null!==(d=null===g||void 0===g?void 0:g.data)&&void 0!==d?d:[])[null!==(h=e.index)&&void 0!==h?h:0].y)||void 0===l?void 0:l.toLocaleString("en-US",{maximumFractionDigits:2})),u]}return u}}},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}},chartPlugins:[Ze.createVerticalLinePlugin()],wowItems:new Map,itemTimeseries:new Map,timeFrame:"week",itemsLoading:!1,items:[],itemsSearchTerm:null,selectedItemId:null}},methods:{disableWoWHeadLinks:function(){var e,t=document.getElementsByClassName("wowhead-tooltip"),r=Object(nt["a"])(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.setAttribute("style","visibility: hidden;");var a,i=n.getElementsByTagName("p"),o=Object(nt["a"])(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.setAttribute("style","visibility: hidden;")}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}},getItemQualityColor:function(e){return Ye.getItemQualityColor(e,Ne.darkThemeSet)},genFilteredColoredText:function(e,t,r){var n,a=null!==(n=null===r||void 0===r?void 0:r.genFilteredText(e))&&void 0!==n?n:"",i="<span",o=a.indexOf(i);return o>=0&&(a=q.insert(a,o+i.length,' style="color: '.concat(t,'"'))),'<span style="color: '.concat(t,'">').concat(a,"</span>")},useWeekTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("week"))},useTwoWeekTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("twoWeeks"))},useMonthTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("month"))},getChartDatas:function(e,t){var r,n=[],a=Object(nt["a"])(null!==t&&void 0!==t?t:this.itemTimeseries.entries());try{for(a.s();!(r=a.n()).done;){var i,o,s,c=Object(N["a"])(r.value,2),u=c[0],l=c[1],d=this.wowItems.get(u),h=l.filter((function(t){var r=t.timestamp;return new Date(r).getTime()>e})).reduce((function(e,t){return{name:e.name,id:e.id,itemQuality:e.itemQuality,min:[].concat(Object(S["a"])(e.min),[{t:t.timestamp,y:t.minPrice/1e4}]),max:[].concat(Object(S["a"])(e.max),[{t:t.timestamp,y:t.maxPrice/1e4}]),average:[].concat(Object(S["a"])(e.average),[{t:t.timestamp,y:t.averagePrice/1e4}]),price25:[].concat(Object(S["a"])(e.price25),[{t:t.timestamp,y:t.price25Percentile/1e4}]),price50:[].concat(Object(S["a"])(e.price50),[{t:t.timestamp,y:t.price50Percentile/1e4}]),price75:[].concat(Object(S["a"])(e.price75),[{t:t.timestamp,y:t.price75Percentile/1e4}]),price95:[].concat(Object(S["a"])(e.price95),[{t:t.timestamp,y:t.price95Percentile/1e4}]),price99:[].concat(Object(S["a"])(e.price99),[{t:t.timestamp,y:t.price99Percentile/1e4}]),totalAvailable:[].concat(Object(S["a"])(e.totalAvailable),[{t:t.timestamp,y:t.totalAvailableForAuction}])}}),{name:null!==(i=null===d||void 0===d?void 0:d.name)&&void 0!==i?i:"N/A",id:null!==(o=null===d||void 0===d?void 0:d.id)&&void 0!==o?o:NaN,itemQuality:null!==(s=null===d||void 0===d?void 0:d.quality)&&void 0!==s?s:"N/A",min:[],max:[],average:[],price25:[],price50:[],price75:[],price95:[],price99:[],totalAvailable:[]});n.push({name:h.name,id:h.id,itemQuality:h.itemQuality,data:{datasets:[{label:"Min",data:h.min,pointRadius:0,hidden:!1},{label:"Max",data:h.max,pointRadius:0,hidden:!0},{label:"Average",data:h.average,pointRadius:0,hidden:!0},{label:"25th Percentile",data:h.price25,pointRadius:0,hidden:!0},{label:"50th Percentile",data:h.price50,pointRadius:0,hidden:!1},{label:"75th Percentile",data:h.price75,pointRadius:0,hidden:!1},{label:"95th Percentile",data:h.price95,pointRadius:0,hidden:!0},{label:"99th Percentile",data:h.price99,pointRadius:0,hidden:!0},{label:"Total Available",data:h.totalAvailable,showLine:!1,pointRadius:0,hidden:!0}]}})}}catch(g){a.e(g)}finally{a.f()}return He.orderBy(n,{orderBy:"name"}),n},getTimeAgo:function(e){var t=new Date;switch(e){case"week":return t.setDate((new Date).getDate()-7),t.getTime();case"twoWeeks":return t.setDate((new Date).getDate()-14),t.getTime();case"month":return t.setMonth((new Date).getMonth()-1),t.getTime();default:return NaN}},removeItemFromWatchList:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.watchList){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,it.deleteItemFromWatchListForUser(t.userId,t.watchList.id,e);case 5:a=r.sent,He.removeWhere(null!==(n=t.chartDatas)&&void 0!==n?n:[],(function(t){return t.id===e})),t.itemTimeseries.delete(e),t.watchList=a,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),P.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},addSelectedItemToWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.selectedItemId&&e.watchList){t.next=3;break}return P.error("No selected item!"),t.abrupt("return");case 3:return t.prev=3,t.next=6,it.addItemToWatchListForUser(e.userId,e.watchList.id,{id:e.selectedItemId});case 6:if(a=t.sent,e.watchList=a,i=a.watchedItems.find((function(t){return t.id===e.selectedItemId})),i){t.next=12;break}return P.error("No item with id ".concat(e.selectedItemId," on watch list.")),t.abrupt("return");case 12:return o=new Date,o.setDate((new Date).getDate()-30),e.wowItems.set(i.id,i),t.next=17,et.getAuctionTimeSeries({wowItemId:i.id,connectedRealmId:a.connectedRealmId,startDate:o.toISOString().split("T")[0]},{orderBy:"timestamp",comparer:Qe.dateAscending});case 17:s=t.sent,e.itemTimeseries.set(i.id,s),null===(r=e.chartDatas)||void 0===r||r.push(e.getChartDatas(e.getTimeAgo(e.timeFrame),[[i.id,s]])[0]),He.orderBy(null!==(n=e.chartDatas)&&void 0!==n?n:[],{orderBy:"name"}),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](3),P.error(t.t0);case 26:return t.prev=26,e.selectedItemId=null,t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[3,23,26,29]])})))()},searchItems:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.itemsLoading=!0,r.prev=1,r.next=4,ut.getItems({nameLike:e,first:25},{orderBy:"name"});case 4:t.items=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),console.error(r.t0);case 10:return r.prev=10,t.itemsLoading=!1,r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[1,7,10,13]])})))()},debouncedSearchItems:Object(Ke["debounce"])((function(e){this.searchItems(e)}),500)},watch:{itemsSearchTerm:function(e){e&&this.debouncedSearchItems(e)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s,c,u,l,d,h,g,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pageLoadingSubscription=H.loadingStateChanged.subscribe((function(t){return e.pageLoading=t})),H.startLoading(),t.prev=2,t.next=5,it.getWatchListForUser(e.userId,Number(e.id));case 5:if(r=t.sent,r){t.next=10;break}return P.warn("No watch list found with id ".concat(e.id," for user ").concat(e.userId)),e.$router.push({name:kt.NotFound}),t.abrupt("return");case 10:return t.next=12,st.getConnectedRealm(r.connectedRealmId);case 12:n=t.sent,n?e.watchListConnectedRealm=n:P.warn("No connected realm found for watch list ".concat(r.id," using connected realm id of ").concat(r.connectedRealmId,".")),e.watchList=r,He.orderBy(e.watchList.watchedItems,{orderBy:"name"}),a=new Map,i=new Date,i.setMonth((new Date).getMonth()-1),o=Object(nt["a"])(r.watchedItems);try{for(o.s();!(s=o.n()).done;)c=s.value,e.wowItems.set(c.id,c),a.set(c.id,et.getAuctionTimeSeries({wowItemId:c.id,connectedRealmId:r.connectedRealmId,startDate:i.toISOString().split("T")[0]},{orderBy:"timestamp",comparer:Qe.dateAscending}))}catch(f){o.e(f)}finally{o.f()}u=Object(nt["a"])(a.entries()),t.prev=22,u.s();case 24:if((l=u.n()).done){t.next=38;break}return d=Object(N["a"])(l.value,2),h=d[0],g=d[1],t.prev=26,t.next=29,g;case 29:m=t.sent,e.itemTimeseries.set(h,m),t.next=36;break;case 33:t.prev=33,t.t0=t["catch"](26),P.error("Unable to get timeseries for ".concat(h),t.t0);case 36:t.next=24;break;case 38:t.next=43;break;case 40:t.prev=40,t.t1=t["catch"](22),u.e(t.t1);case 43:return t.prev=43,u.f(),t.finish(43);case 46:e.useWeekTimeRange(),t.next=52;break;case 49:t.prev=49,t.t2=t["catch"](2),P.error(t.t2);case 52:return t.prev=52,H.stopLoading(),t.finish(52);case 55:case"end":return t.stop()}}),t,null,[[2,49,52,55],[22,40,43,46],[26,33]])})))()},beforeDestroy:function(){this.pageLoadingSubscription.unsubscribe()}}),hr=dr,gr=r("a609"),mr=Object(J["a"])(hr,tr,rr,!1,null,null,null),fr=mr.exports;X()(mr,{VAutocomplete:Ht["a"],VBtn:re["a"],VBtnToggle:gr["a"],VCard:ye["a"],VCardActions:we["a"],VCardSubtitle:we["b"],VCardText:we["c"],VCardTitle:we["d"],VCol:ke["a"],VContainer:Oe["a"],VIcon:ne["a"],VListItemContent:se["a"],VListItemTitle:se["b"],VRow:je["a"],VSkeletonLoader:Qt["a"],VSpacer:le["a"]});var vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-card-title",{staticClass:"text-h3"},[e._v(" PRIVACY POLICY ")]),r("v-card-text",[e._v(" This policy applies to all information collected or submitted on the Site and any other devices and platforms. ")]),r("v-card-subtitle",[e._v("THE SHORT VERSION")]),r("v-card-text",[e._v(" We collect as little information as possible. We use that information to provide the services of the site, and only shares that information with third parties that assist in performing those services (e.g. sending notification emails that you request). We do not sell your information to anyone. ")]),r("v-card-title",[e._v("INFORMATION WE COLLECT")]),r("v-card-subtitle",[e._v("WEBSITE")]),r("v-card-text",[e._v(" To create an account, you must provide the following information: Email address Username Password. Email addresses are used for logging in to the website, resetting your password, sending notifications that you request, and customer support services. The Site uses cookies on the website to keep you logged in. The Site uses browser LocalStorage to keep track of various settings/preferences over time. Our servers store some technical information like IP addresses, browser, or other device information for a limited time as part of access logs. ")]),r("v-card-subtitle",[e._v("THIRD-PARTY ANALYTICS")]),r("v-card-text",[e._v(" We use Google Analytics and Azure Application Insights to track basic site traffic, usage information (pages visited, buttons clicked, etc), and error reporting for the purpose of operating the site and developing new features. ")]),r("v-card-title",[e._v("HOW WE USE YOUR INFORMATION")]),r("v-card-text",[e._v(" We use the information we collect to run and improve the site and to provide customer support. We only share personal information with external parties to perform Site functionality (such as sending email). We do not share or sell your personal information with third parties for their commercial purposes. ")]),r("v-card-title",[e._v("SECURITY")]),r("v-card-text",[e._v(" We have implemented appropriate technical and organizational security measures designed to protect the security of information about you that we process. However, please also remember that we cannot guarantee that the Internet itself is 100% secure. Although we will do our best to protect your information, transmission of information to and from our Sites is at your own risk. You should only access the services within a secure environment. ")]),r("v-card-title",[e._v("ACCESSING, CHANGING, OR DELETING YOUR INFORMATION")]),r("v-card-text",[e._v(" You can access or change your data or delete your account and personal data on the account page. Deleted information may remain in backups for up to 90 days. Backups are only used for disaster recovery. ")]),r("v-card-title",[e._v("CHILDREN")]),r("v-card-text",[e._v(" We do not knowingly collect information from children under 18 years of age. By using the Sites, you represent that you are at least 18. ")]),r("v-card-title",[e._v("CONTACT US")]),r("v-card-text",[e._v("If you have any questions regarding this privacy policy, please contact us at nyi@example.com.")]),r("v-card-title",[e._v("PRIVACY POLICY CHANGES")]),r("v-card-text",[e._v("All changes to the privacy policy will be listed here. "),r("ul",[r("li",[e._v("April 24, 2021: Initial version published")])])])],1)],1)},pr=[],br={},yr=Object(J["a"])(br,vr,pr,!1,null,null,null),wr=yr.exports;X()(yr,{VCard:ye["a"],VCardSubtitle:we["b"],VCardText:we["c"],VCardTitle:we["d"]});var kr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},xr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("404 - Not Found")])])}],Lr={},jr=Object(J["a"])(Lr,kr,xr,!1,null,null,null),Rr=jr.exports,Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-card-title",{staticClass:"text-h3"},[e._v("FAQ")]),r("v-card-title",[e._v("What is this site?")]),r("v-card-text",[e._v(" This site is an application that tracks World of Warcraft auction house data over time and allows users to create watch lists for their favorite realms and items. ")]),r("v-card-title",[e._v("What does 'Not enough data yet for this item. Please check back later!' message mean?")]),r("v-card-text",[e._v(" Due to the large amount of data in the auction house and the fact that there are many different auction houses, we only automatically collect data on commonly requested items (such as trade materials). This message means that we have not collected enough data for that item for that realm. However, once added to a watch list, the system will begin to collect data on that item for that realm. ")]),r("v-card-title",[e._v("What items will always have their data collected for all realms?")]),r("v-card-text",[e._v(" We currently always collect data for tradeskill materials for the following subclasses: cooking, herb, leather, metal and stone, and enchanting. Data for these items will be collected for all realms. ")]),r("v-card-title",[e._v("How often is data collected?")]),r("v-card-text",[e._v("We currently collect auction data every four hours.")])],1)],1)},Ir=[],Ar={},Tr=Object(J["a"])(Ar,Cr,Ir,!1,null,null,null),Or=Tr.exports;X()(Tr,{VCard:ye["a"],VCardText:we["c"],VCardTitle:we["d"]});var _r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Wr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("You shouldn't be here...")])])}],Sr={},Ur=Object(J["a"])(Sr,_r,Wr,!1,null,null,null),Dr=Ur.exports;s["default"].use(Ee["a"]);var Er=new Ee["a"]({routes:[{path:"/register",name:kt.Register,component:Ot},{path:"/login",name:kt.Login,component:Et},{path:"/account",name:kt.Account,component:wt},{path:"/watch-lists/:id",name:kt.WatchList,component:fr,props:!0},{path:"/watch-lists",name:kt.WatchLists,component:Zt},{path:"/test",name:kt.Test,component:qt},{path:"/faq",name:kt.FAQ,component:Or},{path:"/privacy",name:kt.Privacy,component:wr},{path:"/not-found",name:kt.NotFound,component:Rr},{path:"/forbidden",name:kt.Forbidden,component:Dr},{path:"*",name:kt.Default,component:Zt}]}),Pr=new Set([kt.Login,kt.Register,kt.NotFound,kt.Forbidden,kt.FAQ,kt.Privacy]);Er.beforeEach((function(e,t,r){H.stopLoading(),Pr.has(e.name)||K.isUserLoggedIn?r():r({name:kt.Login})})),K.unauthorizedActionAttempted.subscribe((function(e){e===C.Forbidden?Er.push({name:kt.Forbidden}):K.logout()})),K.authChanged.subscribe((function(e){e||Er.push({name:kt.Login})}));var Vr=Er,Fr=r("ce5b"),Nr=r.n(Fr);s["default"].use(Nr.a);var Mr=new Nr.a({theme:{themes:{light:{accent:Je["a"].indigo.base},dark:{accent:Je["a"].indigo.base}},dark:Ne.darkThemeSet}});s["default"].config.productionTip=!1,new s["default"]({router:Vr,vuetify:Mr,render:function(e){return e(Se)}}).$mount("#app")}});
//# sourceMappingURL=app.d607336f.js.map
(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"1dfc":function(e,t,r){},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="4678"},"4e1e":function(e,t,r){},"4eb0":function(e,t,r){"use strict";r("1dfc")},9315:function(e,t,r){"use strict";r("d041")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a,n,i,o,s=r("2b0e"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Header"),r("v-main",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("Footer")],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{app:"",clipped:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[e.isUserLoggedIn?e._e():r("v-list-item",{attrs:{link:"",to:"/auth/login"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-login")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Login")])],1)],1),e.isUserLoggedIn?e._e():r("v-list-item",{attrs:{link:"",to:"/auth/register"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-login")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Sign Up")])],1)],1),e.isUserLoggedIn?r("v-list-item",{attrs:{link:"",to:"/watch-lists"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-view-dashboard")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Watch Lists")])],1)],1):e._e(),e.isUserLoggedIn?r("v-list-item",{attrs:{link:"",to:"/alerts"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-alert")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Alerts")])],1)],1):e._e(),e.isUserLoggedIn?r("v-list-item",{attrs:{link:"",to:"/account"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-account")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Account")])],1)],1):e._e(),e.isUserLoggedIn?r("v-list-item",{attrs:{link:""},on:{click:e.logout}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-logout")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Logout")])],1)],1):e._e()],1)],1),r("v-app-bar",{attrs:{app:"","clipped-left":""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("router-link",{staticClass:"toolbar-title",attrs:{to:"/"}},[r("v-toolbar-title",[r("v-icon",{attrs:{large:"",color:"green"}},[e._v("mdi-chart-line")]),e._v(" "+e._s(e.title)+" ")],1)],1),r("div",{staticClass:"hidden-sm-and-down"},[e.isUserLoggedIn?e._e():r("v-btn",{attrs:{link:"",to:"/auth/login",text:""}},[e._v("Login")]),e.isUserLoggedIn?e._e():r("v-btn",{attrs:{link:"",to:"/auth/register",text:""}},[e._v("Sign Up")]),e.isUserLoggedIn?r("v-btn",{attrs:{link:"",to:"/watch-lists",text:""}},[e._v("Watch Lists")]):e._e(),e.isUserLoggedIn?r("v-btn",{attrs:{link:"",to:"/alerts",text:""}},[e._v("Alerts")]):e._e(),e.isUserLoggedIn?r("v-btn",{attrs:{link:"",to:"/account",text:""}},[e._v("Account")]):e._e(),e.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v("Logout")]):e._e()],1),r("v-progress-linear",{attrs:{active:e.loading,indeterminate:"",absolute:"",bottom:"",color:"deep-purple accent-4"}})],1)],1)},d=[],h=r("8d82"),g=r("1da1"),m=r("5530"),v=r("d4ec"),p=r("bee2"),f=r("257e"),b=r("262e"),w=r("2caf"),y=r("ade3"),k=(r("96cf"),r("99af"),r("b0c0"),r("bc3a")),x=r.n(k),A=r("1232"),j=r("ec26"),L=r("14ba");(function(e){e["Development"]="development",e["Production"]="production"})(a||(a={})),function(e){e[e["Debug"]=0]="Debug",e[e["Info"]=1]="Info",e[e["Warn"]=2]="Warn",e[e["Error"]=3]="Error",e[e["Off"]=4]="Off"}(n||(n={})),function(e){e["CorrelationId"]="x-correlation-id",e["TokenExpired"]="x-token-expired"}(i||(i={})),function(e){e["Confirmed"]="confirmed",e["Canceled"]="canceled"}(o||(o={}));var O,R,C,I,T,D,S,_,U,W,P={appTitle:"WoW Market Watcher",localStoragePrefix:"wow-market-watcher",googleAuthClientId:"828621249181-jkn1clbsrppigmkb9alsgeglkm6t1g5m.apps.googleusercontent.com",retryOptions:{enabled:!0,maxRetryAttempts:3,delayTimeInMs:1e3}},V=Object(m["a"])(Object(m["a"])({},P),{},{logging:{logLevel:{default:n.Debug},providers:{console:{logLevel:{default:n.Debug}}}},production:!1,env:a.Development,wowMarketWatcherBaseUrl:"https://rwherber.com/wow-market-watcher/api/v1"}),E=Object(m["a"])(Object(m["a"])({},P),{},{logging:{logLevel:{default:n.Warn},providers:{console:{logLevel:{default:n.Off}}}},production:!0,env:a.Production,wowMarketWatcherBaseUrl:"https://rwherber.com/wow-market-watcher/api/v1"}),F=function(){function e(t){Object(v["a"])(this,e),Object(y["a"])(this,"environment",void 0),this.environment=t}return Object(p["a"])(e,[{key:"production",get:function(){return this.environment.production}},{key:"logging",get:function(){return Object(m["a"])({},this.environment.logging)}},{key:"localStoragePrefix",get:function(){return this.environment.localStoragePrefix}},{key:"appTitle",get:function(){return this.environment.appTitle}},{key:"env",get:function(){return this.environment.env}},{key:"wowMarketWatcherBaseUrl",get:function(){return this.environment.wowMarketWatcherBaseUrl}},{key:"googleAuthClientId",get:function(){return this.environment.googleAuthClientId}},{key:"retryOptions",get:function(){return Object(m["a"])({},this.environment.retryOptions)}}]),e}(),M="production"===a.Production?E:V,N=new F(M),q=r("2909");r("159b");(function(e){e["Dark"]="Dark",e["Light"]="Light"})(O||(O={})),function(e){e["Google"]="Google"}(R||(R={})),function(e){e["AlertActivated"]="AlertActivated",e["AlertDeactivated"]="AlertDeactivated"}(C||(C={})),function(e){e["Email"]="Email"}(I||(I={})),function(e){e["Sum"]="Sum",e["Count"]="Count",e["Average"]="Average",e["Min"]="Min",e["Max"]="Max"}(T||(T={})),function(e){e["TotalAvailableForAuction"]="TotalAvailableForAuction",e["AveragePrice"]="AveragePrice",e["MinPrice"]="MinPrice",e["MaxPrice"]="MaxPrice",e["Price25Percentile"]="Price25Percentile",e["Price50Percentile"]="Price50Percentile",e["Price75Percentile"]="Price75Percentile",e["Price95Percentile"]="Price95Percentile",e["Price99Percentile"]="Price99Percentile"}(D||(D={})),function(e){e["GreaterThan"]="GreaterThan",e["GreaterThanOrEqualTo"]="GreaterThanOrEqualTo",e["LessThan"]="LessThan",e["LessThanOrEqualTo"]="LessThanOrEqualTo"}(S||(S={})),function(e){e["InsufficientData"]="InsufficientData",e["Alarm"]="Alarm",e["Ok"]="Ok"}(_||(_={})),function(e){e["Get"]="GET",e["Post"]="POST",e["Patch"]="PATCH",e["Delete"]="DELETE",e["Put"]="PUT",e["Options"]="OPTIONS",e["Head"]="HEAD"}(U||(U={})),function(e){e[e["Continue"]=100]="Continue",e[e["SwitchingProtocols"]=101]="SwitchingProtocols",e[e["Processing"]=102]="Processing",e[e["EarlyHints"]=103]="EarlyHints",e[e["OK"]=200]="OK",e[e["Created"]=201]="Created",e[e["Accepted"]=202]="Accepted",e[e["NonAuthoritativeInformation"]=203]="NonAuthoritativeInformation",e[e["NoContent"]=204]="NoContent",e[e["ResetContent"]=205]="ResetContent",e[e["PartialContent"]=206]="PartialContent",e[e["MultiStatus"]=207]="MultiStatus",e[e["AlreadyReported"]=208]="AlreadyReported",e[e["IMUsed"]=226]="IMUsed",e[e["Ambiguous"]=300]="Ambiguous",e[e["MultipleChoices"]=300]="MultipleChoices",e[e["Moved"]=301]="Moved",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["Found"]=302]="Found",e[e["Redirect"]=302]="Redirect",e[e["RedirectMethod"]=303]="RedirectMethod",e[e["SeeOther"]=303]="SeeOther",e[e["NotModified"]=304]="NotModified",e[e["UseProxy"]=305]="UseProxy",e[e["Unused"]=306]="Unused",e[e["RedirectKeepVerb"]=307]="RedirectKeepVerb",e[e["TemporaryRedirect"]=307]="TemporaryRedirect",e[e["PermanentRedirect"]=308]="PermanentRedirect",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Conflict"]=409]="Conflict",e[e["Gone"]=410]="Gone",e[e["LengthRequired"]=411]="LengthRequired",e[e["PreconditionFailed"]=412]="PreconditionFailed",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestUriTooLong"]=414]="RequestUriTooLong",e[e["UnsupportedMediaType"]=415]="UnsupportedMediaType",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["IAmATeapot"]=418]="IAmATeapot",e[e["MisdirectedRequest"]=421]="MisdirectedRequest",e[e["UnprocessableEntity"]=422]="UnprocessableEntity",e[e["Locked"]=423]="Locked",e[e["FailedDependency"]=424]="FailedDependency",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["PreconditionRequired"]=428]="PreconditionRequired",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["RequestHeaderFieldsTooLarge"]=431]="RequestHeaderFieldsTooLarge",e[e["UnavailableForLegalReasons"]=451]="UnavailableForLegalReasons",e[e["InternalServerError"]=500]="InternalServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["BadGateway"]=502]="BadGateway",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["GatewayTimeout"]=504]="GatewayTimeout",e[e["HttpVersionNotSupported"]=505]="HttpVersionNotSupported",e[e["VariantAlsoNegotiates"]=506]="VariantAlsoNegotiates",e[e["InsufficientStorage"]=507]="InsufficientStorage",e[e["LoopDetected"]=508]="LoopDetected",e[e["NotExtended"]=510]="NotExtended",e[e["NetworkAuthenticationRequired"]=511]="NetworkAuthenticationRequired"}(W||(W={}));var G=function(){function e(t){var r=t.logging,a=r.logLevel.default,n=r.providers;Object(v["a"])(this,e),Object(y["a"])(this,"logLevel",void 0),n&&n.console?this.logLevel=n.console.logLevel.default:this.logLevel=a}return Object(p["a"])(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[n.Debug].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[n.Info].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[n.Warn].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,[n.Error].concat(t))}},{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?console.groupCollapsed(e):console.group(e)}},{key:"groupEnd",value:function(){console.groupEnd()}},{key:"log",value:function(e){var t,r,a,i;if(this.logLevel<=e){for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];switch(e){case n.Debug:(t=console).debug.apply(t,s);break;case n.Info:(r=console).info.apply(r,s);break;case n.Warn:(a=console).warn.apply(a,s);break;case n.Error:(i=console).error.apply(i,s);break;default:break}}}}]),e}(),z=new G(N),$=function(){function e(t){Object(v["a"])(this,e),Object(y["a"])(this,"loggingProviders",void 0),this.loggingProviders=Object(q["a"])(t)}return Object(p["a"])(e,[{key:"debug",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.log.apply(this,[n.Debug,e].concat(r))}},{key:"info",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.log.apply(this,[n.Info,e].concat(r))}},{key:"warn",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.log.apply(this,[n.Warn,e].concat(r))}},{key:"error",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.log.apply(this,[n.Error,e].concat(r))}},{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loggingProviders.forEach((function(r){return r.group(e,t)}))}},{key:"groupEnd",value:function(){this.loggingProviders.forEach((function(e){return e.groupEnd()}))}},{key:"log",value:function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];this.loggingProviders.forEach((function(r){switch(e){case n.Debug:r.debug.apply(r,[t].concat(a));break;case n.Info:r.info.apply(r,[t].concat(a));break;case n.Warn:r.warn.apply(r,[t].concat(a));break;case n.Error:r.error.apply(r,[t].concat(a));break;default:break}}))}}]),e}(),B=new $([z]),K=function(){function e(t,r,a){var n=r.localStoragePrefix,i=r.env;Object(v["a"])(this,e),Object(y["a"])(this,"storage",void 0),Object(y["a"])(this,"storagePrefix",void 0),Object(y["a"])(this,"logger",void 0),this.storage=t,this.storagePrefix="".concat(n,"-").concat(i,"-"),this.logger=a}return Object(p["a"])(e,[{key:"getItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.getItem.name,": Getting item for key '").concat(t,"'."));var r=this.storage.getItem(this.computeKey(t));return r||null}},{key:"getParsedItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.getParsedItem.name,": Getting item for key '").concat(t,"'."));var r=this.getItem(t);if(!r)return null;var a=JSON.parse(r);return a}},{key:"setItem",value:function(t,r){if(this.logger.debug("".concat(e.name,".").concat(this.setItem.name,": Setting item for key '").concat(t,"'.")),"string"===typeof r)this.storage.setItem(this.computeKey(t),r);else{var a=JSON.stringify(r);this.storage.setItem(this.computeKey(t),a)}}},{key:"removeItem",value:function(t){this.logger.debug("".concat(e.name,".").concat(this.removeItem.name,": Removing item for key '").concat(t,"'.")),this.storage.removeItem(this.computeKey(t))}},{key:"clear",value:function(){this.logger.debug("".concat(e.name,".").concat(this.clear.name,": Clearing local storage.")),this.storage.clear()}},{key:"computeKey",value:function(e){return"".concat(this.storagePrefix).concat(e)}}]),e}(),H=new K(localStorage,N,B),Y=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("3835")),Q=(r("caad"),r("2532"),function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"isAxiosError",value:function(e){return!0===e.isAxiosError}},{key:"isConnectedRealm",value:function(e){return void 0!==e.id&&void 0!==e.realms&&Array.isArray(e.realms)}},{key:"isConnectedRealmArray",value:function(e){return!!Array.isArray(e)&&(0===e.length||this.isConnectedRealm(e[0]))}},{key:"isRealm",value:function(e){return void 0!==e.id&&void 0!==e.connectedRealmId}},{key:"isRealmArray",value:function(e){return!!Array.isArray(e)&&(0===e.length||this.isRealm(e[0]))}}]),e}()),J=(r("9129"),r("a9e3"),r("498a"),r("ac1f"),r("5319"),r("b64b"),function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"isNumeric",value:function(e){return!Number.isNaN(Number(e))}},{key:"splitAtUpperCase",value:function(e){return e.replace(/([A-Z])/g," $1").trim()}},{key:"clearObject",value:function(e){Object.keys(e).forEach((function(t){return delete e[t]}))}},{key:"isEmptyObject",value:function(e){return 0===Object.keys(e).length}},{key:"formatCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}},{key:"wait",value:function(e){return new Promise((function(t){setTimeout(t,e)}))}},{key:"insert",value:function(e,t,r){return e.substr(0,t)+r+e.substr(t)}},{key:"convertToGoldSilverCopper",value:function(e){var t=Math.floor(e)%100,r=Math.floor(e/100),a=r%100,n=Math.floor(r/100);return{g:n,s:a,c:t}}}]),e}()),Z=function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"useLoggingInterceptor",value:function(t,r){var a=this;t.interceptors.request.use((function(t){var n;return t.metadata||(t.metadata={}),t.metadata.startTime=new Date,r.info("".concat(e.name,".").concat(a.useLoggingInterceptor.name,": Sending ").concat(null===(n=t.method)||void 0===n?void 0:n.toLocaleUpperCase()," request to ").concat(t.baseURL,"/").concat(t.url,".")),t}),(function(t){return r.error("".concat(e.name,".").concat(a.useLoggingInterceptor.name,": Encountered error during request pipeline: ").concat(t.message,"."),t),Promise.reject(t)})),t.interceptors.response.use((function(t){var n,i,o,s=t.config,c=s.method,l=s.url,u=s.baseURL,d=s.metadata,h=void 0===d?{}:d;return h.endTime=new Date,h.duration=(null!==(n=h.endTime.getTime())&&void 0!==n?n:0)-(null!==(i=null===(o=h.startTime)||void 0===o?void 0:o.getTime())&&void 0!==i?i:0),r.info("".concat(e.name,".").concat(a.useLoggingInterceptor.name,": Recieved response ").concat(t.status," ").concat(t.statusText," from ").concat(null===c||void 0===c?void 0:c.toLocaleUpperCase()," ").concat(u,"/").concat(l," in ").concat(h.duration,"ms.")),t}),(function(t){if(Q.isAxiosError(t)&&t.response){var n,i,o,s=t.response,c=s.status,l=s.statusText,u=t.config,d=u.method,h=u.url,g=u.baseURL,m=u.metadata,v=void 0===m?{}:m;v.endTime=new Date,v.duration=(null!==(n=v.endTime.getTime())&&void 0!==n?n:0)-(null!==(i=null===(o=v.startTime)||void 0===o?void 0:o.getTime())&&void 0!==i?i:0);var p="".concat(e.name,".").concat(a.useLoggingInterceptor.name,": Recieved response ").concat(c," ").concat(l," from ").concat(null===d||void 0===d?void 0:d.toLocaleUpperCase()," ").concat(g,"/").concat(h," in ").concat(v.duration,"ms.");return c<W.InternalServerError?r.warn(p):r.error(p),Promise.reject(t)}return r.error("".concat(e.name,".").concat(a.useLoggingInterceptor.name,": An unexpected error occurred during response pipeline: ").concat(t.message,"."),t),Promise.reject(t)}))}},{key:"useRetryInterceptor",value:function(t,r,a){var n=this;t.interceptors.response.use((function(e){return e}),function(){var i=Object(g["a"])(regeneratorRuntime.mark((function i(o){var s,c,l,u,d,h,g,m,v,p,f,b,w;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=r.maxRetryAttempts,c=r.enabled,l=r.delayTimeInMs,c){i.next=4;break}return a.debug("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Retry not enabled.")),i.abrupt("return",Promise.reject(o));case 4:if(!Q.isAxiosError(o)){i.next=21;break}if(u=o.response,d=o.config,h=d.method,g=d.url,m=d.baseURL,v=d.metadata,p=void 0===v?{}:v,f="".concat(null===h||void 0===h?void 0:h.toLocaleUpperCase()," ").concat(m,"/").concat(g),p.retryNumber||(p.retryNumber=0),!(p.retryNumber&&p.retryNumber>=s)){i.next=12;break}return a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Max retries of ").concat(s," reached. No longer attempting retries for ").concat(f,".")),i.abrupt("return",Promise.reject(o));case 12:if(b=function(){if(!u)return a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Network error: ").concat(o.message,". Request for ").concat(f," should be retried.")),!0;var t=[U.Get,U.Put,U.Options,U.Delete,U.Head];if(!h||!t.includes(h.toUpperCase()))return a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Request method ").concat(null===h||void 0===h?void 0:h.toLocaleUpperCase()," is not eligible for retry. Request for ").concat(f," should not be retried.")),!1;for(var r=[[100,199],[429,429],[500,599]],i=u.status,s=0,c=r;s<c.length;s++){var l=Object(Y["a"])(c[s],2),d=l[0],g=l[1];if(i>=d&&i<=g)return a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Response status ").concat(i," meets retry eligibility. Request for ").concat(f," should be retried.")),!0}return a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Request for ").concat(f," should not be retried.")),!1},b()){i.next=15;break}return i.abrupt("return",Promise.reject(o));case 15:return p.retryNumber++,w=p.retryNumber<=1?0:l*Math.pow(2,p.retryNumber-1),a.info("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Retry number ").concat(p.retryNumber," of ").concat(s," after ").concat(w,"ms for ").concat(f,".")),i.next=20,J.wait(w);case 20:return i.abrupt("return",t(d));case 21:return a.warn("".concat(e.name,".").concat(n.useRetryInterceptor.name,": Unable to identify error. The request will not be retried."),o),i.abrupt("return",Promise.reject(o));case 23:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}},{key:"useCorrelationIdInterceptor",value:function(t,r){var a=this;t.interceptors.request.use((function(t){return t.metadata||(t.metadata={}),t.headers[i.CorrelationId]?(r.debug("".concat(e.name,".").concat(a.useCorrelationIdInterceptor.name,": Correlation id already attached to request.")),t.metadata.correlationId=t.headers[i.CorrelationId],t):(t.headers[i.CorrelationId]=Object(j["a"])(),t.metadata.correlationId=t.headers[i.CorrelationId],r.info("".concat(e.name,".").concat(a.useCorrelationIdInterceptor.name,": Correlation id generated and attached to request.")),t)}))}},{key:"useAuthorizationInterceptor",value:function(t,r,a){var n=this;t.interceptors.request.use(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(i){var o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.debug("".concat(e.name,".").concat(n.useAuthorizationInterceptor.name,": Attaching authorization token to request ").concat(null===(o=i.method)||void 0===o?void 0:o.toLocaleUpperCase(),": ").concat(i.baseURL,"/").concat(i.url,".")),t.next=3,r.getAccessToken();case 3:return c=t.sent,i.headers.authorization="Bearer ".concat(c),a.info("".concat(e.name,".").concat(n.useAuthorizationInterceptor.name,": Authorization token attached to request ").concat(null===(s=i.method)||void 0===s?void 0:s.toLocaleUpperCase(),": ").concat(i.baseURL,"/").concat(i.url,".")),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"useGetNotFoundNullInterceptor",value:function(t,r){var a=this;t.interceptors.response.use((function(e){return e}),(function(t){var n,i;if(Q.isAxiosError(t)&&(null===(n=t.config.method)||void 0===n?void 0:n.toUpperCase())===U.Get&&(null===(i=t.response)||void 0===i?void 0:i.status)===W.NotFound){var o=t.response;return o.data=null,r.info("".concat(e.name,".").concat(a.useGetNotFoundNullInterceptor.name,": Error response eligible for null interception. Response body set to null and resolving promise.")),Promise.resolve(o)}return r.info("".concat(e.name,".").concat(a.useGetNotFoundNullInterceptor.name,": Error response not eligible for null interception. Rejecting promise.")),Promise.reject(t)}))}},{key:"useHandleUnauthorizedInterceptor",value:function(t,r,a){var n=this;t.interceptors.response.use((function(e){return e}),function(){var o=Object(g["a"])(regeneratorRuntime.mark((function o(s){var c,l,u,d,h,g,m;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!Q.isAxiosError(s)){o.next=16;break}if(l=s.response,l=void 0===l?{}:l,u=l.headers,d=l.status,h=s.config,d!==W.Unauthorized||!u[i.TokenExpired]||null!==(c=h.metadata)&&void 0!==c&&c.refreshRetryAttempted){o.next=15;break}return a.debug("".concat(e.name,".").concat(n.useHandleUnauthorizedInterceptor.name,": ").concat(i.TokenExpired," header present with 401 status code. Attempting to refresh token...")),o.next=9,r.refreshAccessToken();case 9:return g=o.sent,m=g.token,h.headers.authorization="Bearer ".concat(m),h.metadata?h.metadata.refreshRetryAttempted=!0:h.metadata={refreshRetryAttempted:!0},a.info("".concat(e.name,".").concat(n.useHandleUnauthorizedInterceptor.name,": Auth token successfully refreshed. Retrying original request.")),o.abrupt("return",t(h));case 15:d!==W.Unauthorized&&d!==W.Forbidden||(a.warn("".concat(e.name,".").concat(n.useHandleUnauthorizedInterceptor.name,": Unauthorized action attempted.")),r.unauthorizedActionAttempted.next(d));case 16:return o.abrupt("return",Promise.reject(s));case 17:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}}]),e}(),X=function(){function e(t,r,a){Object(v["a"])(this,e),Object(y["a"])(this,"logger",void 0),Object(y["a"])(this,"httpClient",void 0),Object(y["a"])(this,"inProgressRequestMap",new Map);var n=r.wowMarketWatcherBaseUrl,i=r.retryOptions;if(!n)throw new Error("No wowMarketWatcherBaseUrl variable set.");this.logger=a,this.httpClient=t.create({baseURL:n}),Z.useLoggingInterceptor(this.httpClient,a),Z.useCorrelationIdInterceptor(this.httpClient,a),Z.useGetNotFoundNullInterceptor(this.httpClient,a),Z.useRetryInterceptor(this.httpClient,i,a)}return Object(p["a"])(e,[{key:"getAllPages",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o,s,c,l,u,d,h,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(m["a"])({},r),null!==(a=n.first)&&void 0!==a||(n.first=100),n.includeEdges=!1,i=[],e.next=6,t(n);case 6:o=e.sent,s=o.nodes,c=void 0===s?[]:s,l=o.pageInfo,i=[].concat(Object(q["a"])(i),Object(q["a"])(c)),u=l;case 12:if(!u.hasNextPage||!u.endCursor){e.next=24;break}return n.after=u.endCursor,e.next=16,t(n);case 16:d=e.sent,h=d.nodes,g=void 0===h?[]:h,v=d.pageInfo,u=v,i=[].concat(Object(q["a"])(i),Object(q["a"])(g)),e.next=12;break;case 24:return e.abrupt("return",i);case 25:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(r,a){var n,i,o,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>2&&void 0!==s[2]&&s[2],i=this.getInProgressCacheKey(U.Get,r),o=this.inProgressRequestMap.get(i),!o||n?(o=this.httpClient.get(r,a),this.inProgressRequestMap.set(i,o)):this.logger.debug("".concat(e.name,".").concat(this.get.name,": Returning in progess promise for ").concat(i,".")),t.prev=4,t.next=7,o;case 7:return t.abrupt("return",t.sent);case 8:return t.prev=8,this.inProgressRequestMap.delete(i),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"delete",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(r,a){var n,i,o,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>2&&void 0!==s[2]&&s[2],i=this.getInProgressCacheKey(U.Delete,r),o=this.inProgressRequestMap.get(i),!o||n?(o=this.httpClient.delete(r,a),this.inProgressRequestMap.set(i,o)):this.logger.debug("".concat(e.name,".").concat(this.get.name,": Returning in progess promise for ").concat(i,".")),t.prev=4,t.next=7,o;case 7:return t.abrupt("return",t.sent);case 8:return t.prev=8,this.inProgressRequestMap.delete(i),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"post",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(r,a,n){var i,o,s,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],o=this.getInProgressCacheKey(U.Post,r),s=this.inProgressRequestMap.get(o),!s||i?(s=this.httpClient.post(r,a,n),this.inProgressRequestMap.set(o,s)):this.logger.debug("".concat(e.name,".").concat(this.get.name,": Returning in progess promise for ").concat(o,".")),t.prev=4,t.next=7,s;case 7:return t.abrupt("return",t.sent);case 8:return t.prev=8,this.inProgressRequestMap.delete(o),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function r(e,r,a){return t.apply(this,arguments)}return r}()},{key:"put",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(r,a,n){var i,o,s,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],o=this.getInProgressCacheKey(U.Put,r),s=this.inProgressRequestMap.get(o),!s||i?(s=this.httpClient.put(r,a,n),this.inProgressRequestMap.set(o,s)):this.logger.debug("".concat(e.name,".").concat(this.get.name,": Returning in progess promise for ").concat(o,".")),t.prev=4,t.next=7,s;case 7:return t.abrupt("return",t.sent);case 8:return t.prev=8,this.inProgressRequestMap.delete(o),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function r(e,r,a){return t.apply(this,arguments)}return r}()},{key:"patch",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(r,a,n){var i,o,s,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],o=this.getInProgressCacheKey(U.Patch,r),s=this.inProgressRequestMap.get(o),!s||i?(s=this.httpClient.patch(r,a,n),this.inProgressRequestMap.set(o,s)):this.logger.debug("".concat(e.name,".").concat(this.get.name,": Returning in progess promise for ").concat(o,".")),t.prev=4,t.next=7,s;case 7:return t.abrupt("return",t.sent);case 8:return t.prev=8,this.inProgressRequestMap.delete(o),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function r(e,r,a){return t.apply(this,arguments)}return r}()},{key:"getInProgressCacheKey",value:function(e,t){return"".concat(e,":").concat(t)}}]),e}(),ee=function(){function e(t){Object(v["a"])(this,e),Object(y["a"])(this,"localStorageService",void 0),Object(y["a"])(this,"darkThemeSetKey","dark-theme-set"),Object(y["a"])(this,"cachedDarkThemeSet",null),this.localStorageService=t}return Object(p["a"])(e,[{key:"darkThemeSet",get:function(){if(null===this.cachedDarkThemeSet){var e=this.localStorageService.getItem(this.darkThemeSetKey);if("string"!==typeof e||0===e.length)return!0;this.cachedDarkThemeSet="true"===e}return this.cachedDarkThemeSet},set:function(e){this.cachedDarkThemeSet=e,this.localStorageService.setItem(this.darkThemeSetKey,e)}}]),e}(),te=new ee(H),re=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,n,o),Object(y["a"])(Object(f["a"])(s),"authChanged",new L["a"]),Object(y["a"])(Object(f["a"])(s),"unauthorizedActionAttempted",new L["a"]),Object(y["a"])(Object(f["a"])(s),"localStorageService",void 0),Object(y["a"])(Object(f["a"])(s),"uiSettingsService",void 0),Object(y["a"])(Object(f["a"])(s),"accessTokenStorageKey","access-token"),Object(y["a"])(Object(f["a"])(s),"refreshTokenStorageKey","refresh-token"),Object(y["a"])(Object(f["a"])(s),"deviceIdStorageKey","device-id"),Object(y["a"])(Object(f["a"])(s),"userStorageKey","user"),Object(y["a"])(Object(f["a"])(s),"cachedAccessToken",null),Object(y["a"])(Object(f["a"])(s),"cachedRefreshToken",null),Object(y["a"])(Object(f["a"])(s),"cachedDeviceId",null),Object(y["a"])(Object(f["a"])(s),"cachedLoggedInUser",null),s.localStorageService=a,s.uiSettingsService=i,s}return Object(p["a"])(r,[{key:"isUserLoggedIn",get:function(){return null!==this.loggedInUser}},{key:"loggedInUser",get:function(){if(!this.cachedLoggedInUser){var e=this.localStorageService.getParsedItem(this.userStorageKey);if(!e)return null;this.cachedLoggedInUser=e}return Object(m["a"])({},this.cachedLoggedInUser)}},{key:"accessToken",get:function(){if(!this.cachedAccessToken){var e=this.localStorageService.getItem(this.accessTokenStorageKey);if(!e)return null;this.cachedAccessToken=e}return this.cachedAccessToken}},{key:"refreshToken",get:function(){if(!this.cachedRefreshToken){var e=this.localStorageService.getItem(this.refreshTokenStorageKey);if(!e)return null;this.cachedRefreshToken=e}return this.cachedRefreshToken}},{key:"deviceId",get:function(){if(!this.cachedDeviceId){var e=this.localStorageService.getItem(this.deviceIdStorageKey);e?this.cachedDeviceId=e:(this.cachedDeviceId=Object(j["a"])(),this.localStorageService.setItem(this.deviceIdStorageKey,this.cachedDeviceId))}return this.cachedDeviceId}},{key:"registerUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.registerUser.name,": Registering user.")),e.next=3,this.post("auth/register",Object(m["a"])(Object(m["a"])({},t),{},{deviceId:this.deviceId}));case 3:return a=e.sent,n=a.data,this.handleLoginOrRegisterResponse(n),this.logger.info("".concat(r.name,".").concat(this.registerUser.name,": Registering user account complete.")),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerUserUsingGoogleAccount",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.registerUserUsingGoogleAccount.name,": Registering user using Google account.")),e.next=3,this.post("auth/register/google",{username:t,idToken:a,deviceId:this.deviceId});case 3:return n=e.sent,i=n.data,this.handleLoginOrRegisterResponse(i),this.logger.info("".concat(r.name,".").concat(this.registerUserUsingGoogleAccount.name,": Register user using Google account complete.")),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.login.name,": Logging the user in.")),e.next=3,this.post("auth/login",{username:t,password:a,deviceId:this.deviceId});case 3:return n=e.sent,i=n.data,this.handleLoginOrRegisterResponse(i),this.logger.info("".concat(r.name,".").concat(this.login.name,": User login complete.")),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"loginGoogle",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.loginGoogle.name,": Logging the user in using Google.")),e.next=3,this.post("auth/login/google",{idToken:t,deviceId:this.deviceId});case 3:return a=e.sent,n=a.data,this.handleLoginOrRegisterResponse(n),this.logger.info("".concat(r.name,".").concat(this.loginGoogle.name,": User Google login complete.")),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){this.logger.debug("".concat(r.name,".").concat(this.logout.name,": Logging the user out.")),this.localStorageService.clear(),this.cachedDeviceId=null,this.cachedAccessToken=null,this.cachedRefreshToken=null,this.cachedLoggedInUser=null,this.authChanged.next(!1),this.logger.info("".concat(r.name,".").concat(this.logout.name,": User has been logged out."))}},{key:"getAccessToken",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.accessToken){e.next=3;break}return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Access token is null.")),e.abrupt("return",null);case 3:if(!this.isTokenExpired(this.accessToken)){e.next=7;break}return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Access token is expired. Refreshing.")),e.next=7,this.refreshAccessToken();case 7:return this.logger.debug("".concat(r.name,".").concat(this.getAccessToken.name,": Returning cached access token.")),e.abrupt("return",this.accessToken);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshAccessToken",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.logger.debug("".concat(r.name,".").concat(this.refreshAccessToken.name,": Refreshing access token.")),e.next=3,this.post("auth/refreshToken",{token:this.accessToken,refreshToken:this.refreshToken,deviceId:this.deviceId});case 3:return t=e.sent,a=t.data,n=a.token,i=a.refreshToken,this.cachedAccessToken=n,this.cachedRefreshToken=i,this.localStorageService.setItem(this.accessTokenStorageKey,n),this.localStorageService.setItem(this.refreshTokenStorageKey,i),this.logger.info("".concat(r.name,".").concat(this.refreshAccessToken.name,": Access token refreshed.")),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isTokenExpired",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(A["a"])(e),a=r.exp;if(!a)throw new Error("Token is missing exp claim");var n=Date.now()/1e3;return n>=a-t}},{key:"confirmEmail",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("auth/confirmEmail",{email:t,token:r});case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"handleLoginOrRegisterResponse",value:function(e){var t=e.token,r=e.refreshToken,a=e.user;this.cachedAccessToken=t,this.cachedRefreshToken=r,this.cachedLoggedInUser=a,this.localStorageService.setItem(this.accessTokenStorageKey,t),this.localStorageService.setItem(this.refreshTokenStorageKey,r),this.localStorageService.setItem(this.userStorageKey,a),this.uiSettingsService.darkThemeSet=a.preferences.uiTheme===O.Dark,this.authChanged.next(!0)}}]),r}(X),ae=new re(x.a,H,N,te,B),ne=function(){function e(){Object(v["a"])(this,e),Object(y["a"])(this,"loadingStateChanged",new L["a"])}return Object(p["a"])(e,[{key:"startLoading",value:function(){this.loadingStateChanged.next(!0)}},{key:"stopLoading",value:function(){this.loadingStateChanged.next(!1)}}]),e}(),ie=new ne,oe=s["default"].extend({name:"Header",data:function(){return{loading:!1,showSettings:!1,drawer:!1,title:N.appTitle,isUserLoggedIn:!1,authChangedSubscription:new h["b"],loadingStateChangedSubscription:new h["b"]}},methods:{logout:function(){ae.logout()}},mounted:function(){var e=this;this.isUserLoggedIn=ae.isUserLoggedIn,this.authChangedSubscription=ae.authChanged.subscribe((function(t){return e.isUserLoggedIn=t})),this.loadingStateChangedSubscription=ie.loadingStateChanged.subscribe((function(t){return e.loading=t}))},beforeDestroy:function(){this.authChangedSubscription.unsubscribe(),this.loadingStateChangedSubscription.unsubscribe()}}),se=oe,ce=(r("9315"),r("2877")),le=r("6544"),ue=r.n(le),de=r("40dc"),he=r("5bc1"),ge=r("8336"),me=r("132d"),ve=r("8860"),pe=r("da13"),fe=r("1800"),be=r("5d23"),we=r("f774"),ye=r("8e36"),ke=r("2a7f"),xe=Object(ce["a"])(se,u,d,!1,null,"db6b96a8",null),Ae=xe.exports;ue()(xe,{VAppBar:de["a"],VAppBarNavIcon:he["a"],VBtn:ge["a"],VIcon:me["a"],VList:ve["a"],VListItem:pe["a"],VListItemAction:fe["a"],VListItemContent:be["a"],VListItemTitle:be["b"],VNavigationDrawer:we["a"],VProgressLinear:ye["a"],VToolbarTitle:ke["b"]});var je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",{attrs:{absolute:"",padless:"",app:""}},[r("v-card",{attrs:{flat:"",tile:"",width:"100%"}},[r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("h3",[e._v("About")]),r("ul",{staticClass:"footer-list"},[r("li",[r("router-link",{attrs:{to:"/privacy"}},[e._v("Privacy")])],1),r("li",[r("router-link",{attrs:{to:"/faq"}},[e._v("FAQ")])],1)])]),r("v-col",{attrs:{cols:"4"}},[r("h3",[e._v("Contact")]),r("ul",{staticClass:"footer-list"},[r("li",[r("strong",[e._v("Email:")]),e._v(" "),r("a",{attrs:{href:"mailto:nyi@example.com"}},[e._v("nyi@example.com")])])])]),r("v-col",{attrs:{cols:"4"}},[e._v(" World of Warcraft, Warcraft and Blizzard Entertainment are trademarks or registered trademarks of Blizzard Entertainment, Inc. in the U.S. and/or other countries. ")])],1)],1),r("v-divider"),r("v-card-text",{staticClass:"text-center"},[e._v("Â© "+e._s((new Date).getFullYear()))])],1)],1)},Le=[],Oe=s["default"].extend({name:"Footer"}),Re=Oe,Ce=(r("cfee"),r("b0af")),Ie=r("99d9"),Te=r("62ad"),De=r("ce7e"),Se=r("553a"),_e=r("0fd9"),Ue=Object(ce["a"])(Re,je,Le,!1,null,"3d2f1864",null),We=Ue.exports;ue()(Ue,{VCard:Ce["a"],VCardText:Ie["c"],VCol:Te["a"],VDivider:De["a"],VFooter:Se["a"],VRow:_e["a"]});var Pe=s["default"].extend({name:"App",components:{Header:Ae,Footer:We}}),Ve=Pe,Ee=r("7496"),Fe=r("a523"),Me=r("f6c4"),Ne=Object(ce["a"])(Ve,c,l,!1,null,null,null),qe=Ne.exports;ue()(Ne,{VApp:Ee["a"],VContainer:Fe["a"],VMain:Me["a"]});var Ge=r("9483");Object(Ge["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("6062");var ze,$e=r("8c4f"),Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showDeleteDialog,callback:function(t){e.showDeleteDialog=t},expression:"showDeleteDialog"}},[r("v-card",[r("v-card-title",{staticClass:"justify-center"},[e._v("Are you sure you want to delete your account?")]),r("v-card-text",[e._v(" All of your data will be deleted. This is not reversible. After your account has been deleted, you will be logged out and returned to the login page. ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelDeleteAccount}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteAccount}},[e._v("Delete My Account")]),r("v-spacer")],1)],1)],1),r("v-card",[r("v-card-title",[e._v("Account")]),r("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v("Profile")]),r("v-tab",[e._v("Preferences")])],1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("v-card",[r("v-card-text",[e._v("Stuff about you... Blah Blah Blah")]),r("v-card-actions",[r("v-btn",{attrs:{color:"error"},on:{click:function(t){e.showDeleteDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Delete Account ")],1)],1)],1)],1),r("v-tab-item",[r("v-card",[r("v-card-actions",[r("v-switch",{attrs:{label:"Dark Theme"},model:{value:e.isDarkThemeSet,callback:function(t){e.isDarkThemeSet=t},expression:"isDarkThemeSet"}})],1)],1)],1)],1)],1)],1)},Ke=[],He=(r("d81d"),r("4fad"),function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i){var o;return Object(v["a"])(this,r),o=t.call(this,e,n,i),Z.useAuthorizationInterceptor(o.httpClient,a,i),Z.useHandleUnauthorizedInterceptor(o.httpClient,a,i),o}return r}(X)),Ye=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(){return Object(v["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"getUsers",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("users");case 2:return t=e.sent,r=t.data.nodes,a=void 0===r?[]:r,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("users/".concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.entries(r).map((function(e){var t=Object(Y["a"])(e,2),r=t[0],a=t[1];return{op:"add",path:"/".concat(r),value:a}})),e.next=3,this.patch("users/".concat(t),a);case 3:return n=e.sent,i=n.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"test",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:0,a=s.length>2&&void 0!==s[2]?s[2]:200,n=s.length>3&&void 0!==s[3]?s[3]:0,e.next=5,this.get("test?status=".concat(t,"&delay=").concat(r,"&statusAfter=").concat(a,"&per=").concat(n));case 5:return i=e.sent,o=i.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(He),Qe=new Ye(x.a,ae,N,B),Je=r("72bf"),Ze=r.n(Je),Xe=r("2ef0"),et=r("c51e"),tt=(r("a434"),function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"removeItem",value:function(e,t){var r=e.indexOf(t);return r>=0&&(e.splice(r,1),!0)}},{key:"removeRange",value:function(e,t){var r=this,a=!1;return t.forEach((function(t){a=r.removeItem(e,t)})),a}},{key:"removeWhere",value:function(e,t){var r=this,a=!1,n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n.forEach((function(t){a=r.removeItem(e,t)})),a}},{key:"sortAsc",value:function(e){return e.sort((function(e,t){return e>t?1:e<t?-1:0}))}},{key:"orderBy",value:function(e,t,r){if("function"===typeof t){var a=null!==r&&void 0!==r?r:{},n=a.direction;e.sort((function(e,r){return"Descending"===n?t(e)<t(r)?1:t(e)>t(r)?-1:0:t(e)>t(r)?1:t(e)<t(r)?-1:0}))}else{var i=t.orderBy,o=t.comparer,s=t.direction;o?e.sort((function(e,t){return o(e[i],t[i])})):e.sort((function(e,t){return"Descending"===s?e[i]<t[i]?1:e[i]>t[i]?-1:0:e[i]>t[i]?1:e[i]<t[i]?-1:0}))}return e}},{key:"shuffle",value:function(e){var t,r,a=e.length;while(0!==a)r=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[r],e[r]=t;return e}},{key:"getRandomElement",value:function(e){return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}}]),e}()),rt=function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"dateAscending",value:function(e,t){return new Date(e).getTime()-new Date(t).getTime()}},{key:"dateDescending",value:function(e,t){return new Date(t).getTime()-new Date(e).getTime()}}]),e}();r("fb6a"),r("25f0");(function(e){e["Poor"]="#9d9d9d",e["Common"]="#ffffff",e["CommonLightTheme"]="#000000DE",e["Uncommon"]="#1eff00",e["Rare"]="#0070dd",e["Epic"]="#a335ee",e["Legendary"]="#ff8000",e["Artifact"]="#e6cc80",e["Heirloom"]="#00ccff",e["WoWToken"]="#00ccff"})(ze||(ze={}));var at=function e(){Object(v["a"])(this,e)};Object(y["a"])(at,"wowTokenId",122284);var nt=function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"getItemQualityColor",value:function(e,t,r){var a,n="string"===typeof e?e.toLowerCase():e.quality.toLowerCase();if((null!==(a=e.id)&&void 0!==a?a:r)===at.wowTokenId)return ze.WoWToken;switch(n){case"poor":return ze.Poor;case"common":return t?ze.Common:ze.CommonLightTheme;case"uncommon":return ze.Uncommon;case"rare":return ze.Rare;case"epic":return ze.Epic;case"legendary":return ze.Legendary;case"artifact":return ze.Artifact;case"heirloom":return ze.Heirloom;default:return ze.Common}}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,r){if("number"===typeof e){if(void 0===t||void 0===r)throw new Error("g and b are required when passing number as first argument.");return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)}},{key:"isClose",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a="string"===typeof e?this.hexToRgb(e):e,n="string"===typeof t?this.hexToRgb(t):t;if(!a||!n)throw new Error("Unable to convert to rbg");var i=Math.abs(a.r-n.r)+Math.abs(a.g-n.g)+Math.abs(a.b-n.b);return i<r}},{key:"getColorGradient",value:function(e,t,r){var a=t.createLinearGradient(0,0,0,450),n=this.hexToRgb(e);if(!n)throw new Error("Unable to convert hex color to rgb.");return(null!==r&&void 0!==r?r:[{offset:0,alpha:.5},{offset:.5,alpha:.01},{offset:1,alpha:0}]).forEach((function(e){var t=e.offset,r=e.alpha;a.addColorStop(t,"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(r,")"))})),{gradient:a,color:e,rgb:n}}}]),e}(),it=(r("7db0"),r("2ca0"),r("fcf4")),ot=function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"createVerticalLinePlugin",value:function(e){var t=null!==e&&void 0!==e?e:{},r=t.lineColor,a=t.lineWidth;return{id:"verticalLinePlugin",afterDatasetsDraw:function(e){var t,n,i;if(null!==(t=e.tooltip)&&void 0!==t&&t._active&&(null===(n=e.tooltip)||void 0===n||null===(i=n._active)||void 0===i?void 0:i.length)>0){var o,s=e.tooltip._active[0],c=e.ctx,l=null===(o=Object.entries(e.scales).find((function(e){var t=Object(Y["a"])(e,1),r=t[0];return r.startsWith("y-axis-")})))||void 0===o?void 0:o[1];if(!l)throw new Error("No scales with id starting with y-axis- found. Ensure at least one y axis has an id that starts with y-axis-.");var u=s.tooltipPosition().x,d=l.top,h=l.bottom;if(!c||!d||!h)return;c.save(),c.beginPath(),c.moveTo(u,d),c.lineTo(u,h),c.lineWidth=null!==a&&void 0!==a?a:1,c.strokeStyle=null!==r&&void 0!==r?r:it["a"].grey.darken3,c.stroke(),c.restore()}}}}},{key:"createBackgroundColorPlugin",value:function(e){var t=e.backgroundColor;return{beforeDraw:function(e){var r=e.ctx,a=e.chartArea;r&&(r.save(),r.fillStyle=t,r.fillRect(a.left,a.top,a.right-a.left,a.bottom-a.top),r.restore())}}}}]),e}(),st=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,a,n,o),Object(y["a"])(Object(f["a"])(s),"cache",void 0),s.cache=i,s}return Object(p["a"])(r,[{key:"getAuctionTimeSeriesPage",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Ze.a.stringify(t),a="wow/auctionTimeSeries?".concat(r),n=this.cache.get(a),!n){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.get(a);case 7:return i=e.sent,o=i.data,this.cache.set(a,o,{onEntryEvicted:function(e){var t=e.key;return s.logger.info("Entry with key ".concat(t," has expired."))}}),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuctionTimeSeries",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAllPages((function(e){return n.getAuctionTimeSeriesPage(e)}),Object(m["a"])(Object(m["a"])({},t),{},{first:500}));case 2:return a=e.sent,r&&tt.orderBy(a,r),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(He),ct=new st(x.a,ae,N,new et["LRUCache"]({maxSize:100,entryExpirationTimeInMS:9e5,clone:!0,cloneFn:Xe["cloneDeep"]}),B),lt=function(){function e(t,r,a){var n=this;Object(v["a"])(this,e),Object(y["a"])(this,"gapiScriptId","gapi-script"),Object(y["a"])(this,"googleAuthConfig",void 0),Object(y["a"])(this,"logger",void 0),Object(y["a"])(this,"googleAuth",null),this.googleAuthConfig=t,this.logger=a,r.authChanged.subscribe(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,n.signOut();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.initializeAuth2()}return Object(p["a"])(e,[{key:"gapiScriptCreated",get:function(){return!!document.getElementById(this.gapiScriptId)}},{key:"gapiLoaded",get:function(){return this.gapiScriptCreated&&!!gapi}},{key:"gapiAuth2Loaded",get:function(){return this.gapiLoaded&&!!gapi.auth2}},{key:"gapiAuth2Initialized",get:function(){return this.gapiAuth2Loaded&&!!this.googleAuth}},{key:"isSignedIn",get:function(){return!!this.googleAuth&&this.googleAuth.isSignedIn.get()}},{key:"currentUser",get:function(){return this.googleAuth?this.googleAuth.currentUser.get():null}},{key:"currentUserIdToken",get:function(){var e,t;return(null===(e=this.currentUser)||void 0===e||null===(t=e.getAuthResponse())||void 0===t?void 0:t.id_token)||null}},{key:"installClient",value:function(){var e=this;return this.logger.debug("Installing gapi client..."),new Promise((function(t){if(e.gapiScriptCreated)e.logger.debug("gapi client already installed."),t();else{var r="https://apis.google.com/js/api.js",a=document.createElement("script");a.id=e.gapiScriptId,a.src=r,a.async=!0,a.defer=!0,document.head.appendChild(a),a.onload=function(){e.logger.debug("gapi client installation complete."),t()}}}))}},{key:"loadGapiAuth2",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Loading gapi auth2 library..."),!this.gapiAuth2Loaded){e.next=4;break}return this.logger.debug("gapi auth2 library already loaded."),e.abrupt("return");case 4:if(this.gapiLoaded){e.next=7;break}return e.next=7,this.installClient();case 7:return e.abrupt("return",new Promise((function(e){gapi.load("auth2",(function(){t.logger.debug("gapi auth2 library loaded."),e()}))})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeAuth2",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Initializing gapi auth2 client"),!this.gapiAuth2Initialized){e.next=4;break}return this.logger.debug("gapi auth2 client already initialized."),e.abrupt("return");case 4:if(this.gapiAuth2Loaded){e.next=7;break}return e.next=7,this.loadGapiAuth2();case 7:gapi.auth2.init(this.googleAuthConfig).then((function(e){t.logger.debug("gapi auth2 client initialized."),t.googleAuth=e}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Signing out of google auth"),this.gapiAuth2Initialized){e.next=4;break}return e.next=4,this.initializeAuth2();case 4:if(this.googleAuth){e.next=6;break}throw new Error("Google auth not initialized.");case 6:return e.abrupt("return",this.googleAuth.signOut());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.logger.debug("Signing into google auth"),this.gapiAuth2Initialized){e.next=4;break}return e.next=4,this.initializeAuth2();case 4:if(this.googleAuth){e.next=6;break}throw new Error("Google auth not initialized.");case 6:return e.abrupt("return",this.googleAuth.signIn());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ut=new lt({client_id:N.googleAuthClientId},ae,B),dt=r("b85c"),ht=(r("4de4"),r("c740"),function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,a,n,o),Object(y["a"])(Object(f["a"])(s),"cache",void 0),s.cache=i,s}return Object(p["a"])(r,[{key:"getWatchListsForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getUserWatchListsCacheKey(t),a=this.cache.get(r),!a){e.next=8;break}if(!Array.isArray(a)){e.next=7;break}return e.abrupt("return",a);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("users/".concat(t,"/watchLists"));case 10:n=e.sent,i=n.data.nodes,o=void 0===i?[]:i,this.cache.set(r,o),s=Object(dt["a"])(o);try{for(s.s();!(c=s.n()).done;)l=c.value,this.cache.set(this.getWatchListCacheKey(t,l.id),l)}catch(u){s.e(u)}finally{s.f()}return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.getWatchListCacheKey(t,r),n=this.cache.get(a),!n){e.next=8;break}if(!Array.isArray(n)){e.next=7;break}this.cache.delete(a),e.next=8;break;case 7:return e.abrupt("return",n);case 8:return e.next=10,this.get("users/".concat(t,"/watchLists/").concat(r));case 10:return i=e.sent,o=i.data,o&&this.cache.set(a,o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("users/".concat(t,"/watchLists"),r);case 2:return a=e.sent,n=a.data,this.updateCachedUserWatchLists(t,n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addItemToWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("users/".concat(t,"/watchLists/").concat(r,"/items"),a);case 2:return n=e.sent,i=n.data,this.updateCachedUserWatchLists(t,i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"updateWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object.entries(a).map((function(e){var t=Object(Y["a"])(e,2),r=t[0],a=t[1];return{op:"add",path:"/".concat(r),value:a}})),e.next=3,this.patch("users/".concat(t,"/watchLists/").concat(r),n);case 3:return i=e.sent,o=i.data,this.updateCachedUserWatchLists(t,o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"deleteWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t,"/watchLists/").concat(r));case 2:this.cache.delete(this.getWatchListCacheKey(t,r)),a=this.getUserWatchListsCacheKey(t),n=this.cache.get(a),n&&(Array.isArray(n)?this.cache.set(a,n.filter((function(e){return e.id!==r}))):this.cache.delete(a));case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteItemFromWatchListForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t,"/watchLists/").concat(r,"/items/").concat(a));case 2:return n=e.sent,i=n.data,this.updateCachedUserWatchLists(t,i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"updateCachedUserWatchLists",value:function(e,t){var r=t.id;this.cache.set(this.getWatchListCacheKey(e,r),t);var a=this.getUserWatchListsCacheKey(e),n=this.cache.get(a);if(n)if(Array.isArray(n)){var i=n.findIndex((function(e){return e.id===r}));i>=0?n[i]=t:n.push(t),this.cache.set(a,n)}else this.cache.delete(a)}},{key:"getWatchListCacheKey",value:function(e,t){return"users/".concat(e,"/watchLists/").concat(t)}},{key:"getUserWatchListsCacheKey",value:function(e){return"users/".concat(e,"/watchLists")}}]),r}(He)),gt=new ht(x.a,ae,N,new et["LRUCache"]({maxSize:100,clone:!0,cloneFn:Xe["cloneDeep"]}),B),mt=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,a,n,o),Object(y["a"])(Object(f["a"])(s),"cache",void 0),s.cache=i,s}return Object(p["a"])(r,[{key:"getRealms",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o,s,c,l,u,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},r=h.length>1?h[1]:void 0,t.includeEdges=!1,a=Ze.a.stringify(t),n="wow/realms?".concat(a),i=this.cache.get(n),!i){e.next=13;break}if(!Q.isRealmArray(i)){e.next=12;break}return r&&tt.orderBy(i,r),e.abrupt("return",i);case 12:this.cache.delete(n);case 13:return e.next=15,this.get(n);case 15:o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(n,c),l=Object(dt["a"])(c);try{for(l.s();!(u=l.n()).done;)d=u.value,this.cache.set(this.getRealmCacheKey(d.id),d)}catch(g){l.e(g)}finally{l.f()}return r&&tt.orderBy(c,r),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRealm",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getRealmCacheKey(t),a=this.cache.get(r),!a){e.next=8;break}if(!Q.isRealm(a)){e.next=7;break}return e.abrupt("return",a);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("wow/realms/".concat(t));case 10:return n=e.sent,i=n.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getConnectedRealms",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o,s,c,l,u,d,h,g,m,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},r=v.length>1?v[1]:void 0,t.includeEdges=!1,a=Ze.a.stringify(t),n="wow/connectedRealms?".concat(a),i=this.cache.get(n),!i){e.next=13;break}if(!Q.isConnectedRealmArray(i)){e.next=12;break}return r&&tt.orderBy(i,r),e.abrupt("return",i);case 12:this.cache.delete(n);case 13:return e.next=15,this.get(n);case 15:o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(n,c),l=Object(dt["a"])(c);try{for(l.s();!(u=l.n()).done;){d=u.value,this.cache.set(this.getConnectedRealmCacheKey(d.id),d),h=Object(dt["a"])(d.realms);try{for(h.s();!(g=h.n()).done;)m=g.value,this.cache.set(this.getRealmCacheKey(m.id),m)}catch(p){h.e(p)}finally{h.f()}}}catch(p){l.e(p)}finally{l.f()}return r&&tt.orderBy(c,r),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getConnectedRealm",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getConnectedRealmCacheKey(t),a=this.cache.get(r),!a){e.next=8;break}if(!Q.isConnectedRealm(a)){e.next=7;break}return e.abrupt("return",a);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("wow/connectedRealms/".concat(t));case 10:return n=e.sent,i=n.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRealmCacheKey",value:function(e){return"realms/".concat(e)}},{key:"getConnectedRealmCacheKey",value:function(e){return"connectedRealms/".concat(e)}}]),r}(He),vt=new mt(x.a,ae,N,new et["LRUCache"]({maxSize:500,clone:!0,cloneFn:Xe["cloneDeep"]}),B),pt=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,a,n,o),Object(y["a"])(Object(f["a"])(s),"cache",void 0),s.cache=i,s}return Object(p["a"])(r,[{key:"getItems",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.includeEdges=!1,a=Ze.a.stringify(t),n="wow/items?".concat(a),i=this.cache.get(n),!i||!Array.isArray(i)){e.next=7;break}return r&&tt.orderBy(i,r),e.abrupt("return",i);case 7:return e.next=9,this.get(n);case 9:return o=e.sent,s=o.data.nodes,c=void 0===s?[]:s,this.cache.set(n,c),r&&tt.orderBy(c,r),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getItem",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="wow/items/".concat(t),a=this.cache.get(r),!a||Array.isArray(a)){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,this.get(r);case 6:return n=e.sent,i=n.data,i&&this.cache.set(r,i),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(He),ft=new pt(x.a,ae,N,new et["LRUCache"]({maxSize:100,clone:!0,cloneFn:Xe["cloneDeep"]}),B),bt=s["default"].extend({data:function(){return{user:{},userId:NaN}},mounted:function(){var e=ae.loggedInUser;if(!e)return ae.unauthorizedActionAttempted.next(),void B.warn("No user logged in.");this.user=e,this.userId=e.id}}),wt=s["default"].extend({name:"Account",mixins:[bt],data:function(){return{tab:null,showDeleteDialog:!1}},methods:{cancelDeleteAccount:function(){this.showDeleteDialog=!1},deleteAccount:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.showDeleteDialog=!1,ie.startLoading(),t.next=5,Qe.deleteUser(e.userId);case 5:ae.logout(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),B.error(t.t0);case 11:return t.prev=11,ie.stopLoading(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}},computed:{isDarkThemeSet:{get:function(){return te.darkThemeSet},set:function(e){this.$vuetify.theme.dark=e,te.darkThemeSet=e}}}}),yt=wt,kt=r("169a"),xt=r("2fa4"),At=r("b73d"),jt=r("71a3"),Lt=r("c671"),Ot=r("fe57"),Rt=r("aac8"),Ct=Object(ce["a"])(yt,Be,Ke,!1,null,null,null),It=Ct.exports;ue()(Ct,{VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardText:Ie["c"],VCardTitle:Ie["d"],VContainer:Fe["a"],VDialog:kt["a"],VIcon:me["a"],VSpacer:xt["a"],VSwitch:At["a"],VTab:jt["a"],VTabItem:Lt["a"],VTabs:Ot["a"],VTabsItems:Rt["a"]});var Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("alert-designer",{attrs:{alert:e.selectedAlert},model:{value:e.showCreateAlertDialog,callback:function(t){e.showCreateAlertDialog=t},expression:"showCreateAlertDialog"}}),e.pageLoading?r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1):r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-title",[e._v("My Alerts")]),r("v-card-actions",[r("v-btn",{attrs:{color:"success"},on:{click:function(t){e.showCreateAlertDialog=!e.showCreateAlertDialog}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v("Create Alert")],1)],1)],1)],1),0===e.alerts.length?r("v-col",[r("v-card",{attrs:{elevation:"2"}},[r("v-card-text",[e._v(" You have no alerts. ")])],1)],1):e._l(e.alerts,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12"}},[r("v-card",{style:{border:"1px solid "+e.getAlertColor(t)}},[r("v-card-title",[e._v(e._s(t.name)+" "),r("v-spacer"),e._v(" State: "+e._s(e.splitAtUpperCase(t.state))+" ")],1),r("v-card-subtitle",[r("v-row",[r("v-col",{attrs:{cols:"6",md:"9"}},[e._v(" "+e._s(t.description)+" ")]),r("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"3"}},[e._v(" Last Fired: "+e._s(t.lastFired?new Date(t.lastFired).toLocaleString("en-US",{timeStyle:"short",dateStyle:"short"}):"N/A")),r("br"),e._v("Last Evaluated: "+e._s(t.lastEvaluated?new Date(t.lastEvaluated).toLocaleString("en-US",{timeStyle:"short",dateStyle:"short"}):"N/A")+" ")])],1)],1),r("v-card-text",[r("strong",[e._v("Conditions")]),e._v(" "),r("br"),r("span",{domProps:{innerHTML:e._s(e.getConditionsString(t))}})]),r("v-card-actions",[r("v-btn",{attrs:{color:"primary"},on:{click:function(r){e.selectedAlert=t,e.showCreateAlertDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-pencil ")]),e._v("Edit")],1),r("v-btn",{attrs:{color:"error"},on:{click:function(r){e.stagedAlertToDelete=t,e.showDeleteDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Delete")],1)],1)],1)],1)}))],2)],1)},Dt=[],St=(r("5db7"),r("73d9"),r("c0a4")),_t=r.n(St),Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.addOrUpdateActionDialog.showDialog,callback:function(t){e.$set(e.addOrUpdateActionDialog,"showDialog",t)},expression:"addOrUpdateActionDialog.showDialog"}},[r("v-card",[r("v-form",{ref:"addOrUpdateActionForm",on:{submit:function(t){return t.preventDefault(),e.addOrUpdateAction.apply(null,arguments)}},model:{value:e.addOrUpdateActionDialog.formValid,callback:function(t){e.$set(e.addOrUpdateActionDialog,"formValid",t)},expression:"addOrUpdateActionDialog.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(" "+e._s("number"===typeof e.addOrUpdateActionDialog.currentIndex?"Update":"Add")+" Alert Action")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Target*",rules:e.addOrUpdateActionDialog.targetRules,required:""},model:{value:e.addOrUpdateActionDialog.newOrUpdatedAction.target,callback:function(t){e.$set(e.addOrUpdateActionDialog.newOrUpdatedAction,"target",t)},expression:"addOrUpdateActionDialog.newOrUpdatedAction.target"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.addOrUpdateActionDialog.actionOnTypes,label:"Action On",required:""},model:{value:e.addOrUpdateActionDialog.newOrUpdatedAction.actionOn,callback:function(t){e.$set(e.addOrUpdateActionDialog.newOrUpdatedAction,"actionOn",t)},expression:"addOrUpdateActionDialog.newOrUpdatedAction.actionOn"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.addOrUpdateActionDialog.actionTypes,label:"Type",required:""},model:{value:e.addOrUpdateActionDialog.newOrUpdatedAction.type,callback:function(t){e.$set(e.addOrUpdateActionDialog.newOrUpdatedAction,"type",t)},expression:"addOrUpdateActionDialog.newOrUpdatedAction.type"}})],1)],1)],1),r("small",[e._v("*indicates required field")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.addOrUpdateActionDialog.showDialog=!1,e.resetAddOrUpdateActionForm()}}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:!e.addOrUpdateActionDialog.formValid}},[e._v(" "+e._s("number"===typeof e.addOrUpdateActionDialog.currentIndex?"Update":"Add")+" ")])],1)],1)],1)],1),e.loading?r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1):r("v-card",[r("v-form",{ref:"upsertAlertForm",on:{submit:function(t){return t.preventDefault(),e.saveAlert.apply(null,arguments)}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.closeDialog()}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Alert Designer")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){return e.closeDialog()}}},[e._v(" Cancel ")]),r("v-btn",{attrs:{dark:"",text:"",type:"submit"}},[e._v(" Save ")])],1)],1),r("v-list",{attrs:{"three-line":"",subheader:""}},[r("v-subheader",[e._v("General")]),r("v-list-item",[r("v-list-item-content",[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"3"}},[r("v-text-field",{attrs:{label:"Name",rules:e.nameRules,required:""},model:{value:e.alertToModify.name,callback:function(t){e.$set(e.alertToModify,"name",t)},expression:"alertToModify.name"}})],1)],1)],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-textarea",{attrs:{label:"Description",rows:"3"},model:{value:e.alertToModify.description,callback:function(t){e.$set(e.alertToModify,"description",t)},expression:"alertToModify.description"}})],1)],1)],1),r("v-divider"),r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-subheader",[e._v("Conditions "),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-plus")])],1)],1),e.alertToModify.conditions.length>0?r("div",[e._l(e.alertToModify.conditions,(function(t,a){return[r("v-list-item",{key:""+t.wowItemId+t.connectedRealmId},[r("v-list-item-content",[r("span",{domProps:{innerHTML:e._s(e.getConditionString(t))}})]),r("v-list-item-action",[r("v-row",[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(r){return e.removeCondition(t)}}},[e._v("mdi-delete")])],1)],1)],1)],1),a<e.alertToModify.conditions.length-1?r("v-divider",{key:a}):e._e()]}))],2):r("div",[r("v-list-item",[r("v-list-item-content",[e._v(" There are no conditions. ")])],1)],1)],1),r("v-divider"),r("v-list",{attrs:{subheader:"","two-line":""}},[r("v-subheader",[e._v("Actions "),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(t){return e.openAddOrUpdateDialog()}}},[e._v("mdi-plus")])],1)],1),e.alertToModify.actions.length>0?r("div",[e._l(e.alertToModify.actions,(function(t,a){return[r("v-list-item",{key:""+t.actionOn+t.target+t.type},[r("v-list-item-content",[e._v(" "+e._s(e.getActionText(t))+" ")]),r("v-list-item-action",[r("v-row",[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(t){return e.openAddOrUpdateDialog(a)}}},[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(r){return e.removeAction(t)}}},[e._v("mdi-delete")])],1)],1)],1)],1),a<e.alertToModify.actions.length-1?r("v-divider",{key:a}):e._e()]}))],2):r("div",[r("v-list-item",[r("v-list-item-content",[e._v(" There are no actions. ")])],1)],1)],1)],1)],1)],1)},Wt=[],Pt=(r("07ac"),s["default"].extend({name:"AlertDesigner",props:{value:Boolean,wowItemId:{type:Number,required:!1},connectedRealmId:{type:Number,required:!1},alert:{type:Object,required:!1}},data:function(){return{formValid:!1,loading:!1,nameRules:[function(e){return!!e||"Name is required"}],items:new Map,realms:[],realmsLookup:new Map,connectedRealms:new Map,addOrUpdateActionDialog:{targetRules:[function(e){return!!e||"Target is required"}],showDialog:!1,formValid:!1,actionOnTypes:Object.values(C).map((function(e){return{text:J.splitAtUpperCase(e),value:e}})),actionTypes:Object.values(I).map((function(e){return{text:J.splitAtUpperCase(e),value:e}})),currentIndex:null,newOrUpdatedAction:{}},alertToModify:{name:"",description:"",conditions:[],actions:[]}}},methods:{getActionText:function(e){return"When alert ".concat(e.actionOn===C.AlertActivated?"activates":"deactivates",", send ").concat(e.type.toLowerCase()," to ").concat(e.target,".")},removeCondition:function(e){tt.removeItem(this.alertToModify.conditions,e)},removeAction:function(e){tt.removeItem(this.alertToModify.actions,e)},addOrUpdateAction:function(){this.addOrUpdateActionDialog.formValid&&this.addOrUpdateActionDialog.newOrUpdatedAction?("number"===typeof this.addOrUpdateActionDialog.currentIndex?this.alertToModify.actions[this.addOrUpdateActionDialog.currentIndex]=Object(m["a"])({},this.addOrUpdateActionDialog.newOrUpdatedAction):this.alertToModify.actions.push(Object(m["a"])({},this.addOrUpdateActionDialog.newOrUpdatedAction)),this.addOrUpdateActionDialog.showDialog=!1,this.resetAddOrUpdateActionForm()):console.error("Add or update action form invalid.")},openAddOrUpdateDialog:function(e){"number"===typeof e?(this.addOrUpdateActionDialog.currentIndex=e,this.addOrUpdateActionDialog.newOrUpdatedAction=Object(m["a"])({},this.alertToModify.actions[e])):this.addOrUpdateActionDialog.newOrUpdatedAction={type:I.Email,actionOn:C.AlertActivated,target:""},this.addOrUpdateActionDialog.showDialog=!0},getConditionString:function(e){var t,r,a=this.items.get(e.wowItemId),n=null!==(t=null===(r=this.connectedRealms.get(e.connectedRealmId))||void 0===r?void 0:r.realms)&&void 0!==t?t:[],i=J.convertToGoldSilverCopper(e.threshold),o=i.g,s=i.s,c=i.c;return"When ".concat(J.splitAtUpperCase(e.aggregationType).toLowerCase()," of ").concat(J.splitAtUpperCase(e.metric).toLowerCase(),' for <a href="https://www.wowhead.com/item=').concat(null===a||void 0===a?void 0:a.id,'" target="_blank">').concat(null===a||void 0===a?void 0:a.name,"</a> for ").concat(n.reduce((function(e,t,r){return"".concat(e).concat(t.name).concat(r!==n.length-1?"".concat(r===n.length-2?"".concat(n.length>2?", and ":" and "):", "):"")}),"")," is ").concat(J.splitAtUpperCase(e.operator).toLowerCase()," ").concat(e.metric===D.TotalAvailableForAuction?e.threshold.toLocaleString("en-US"):"".concat(o.toLocaleString("en-US"),"g ").concat(s,"s ").concat(c,"c")," over period of ").concat(e.aggregationTimeGranularityInHours," hour").concat(1===e.aggregationTimeGranularityInHours?"":"s",".")},saveAlert:function(){console.log("Alert saved!"),this.closeDialog()},closeDialog:function(){this.resetUpsertAlertForm(),this.show=!1},resetUpsertAlertForm:function(){this.$refs.upsertAlertForm.reset()},resetAddOrUpdateActionForm:function(){this.$refs.addOrUpdateActionForm.reset()},loadItems:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.alert){t.next=6;break}return t.next=3,Promise.all(Object(q["a"])(new Set(e.alert.conditions.map((function(e){return e.wowItemId})))).map((function(e){return ft.getItem(e)})));case 3:r=t.sent,a=Object(dt["a"])(r);try{for(a.s();!(n=a.n()).done;)i=n.value,i&&e.items.set(i.id,i)}catch(o){a.e(o)}finally{a.f()}case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,vt.getConnectedRealms();case 4:r=t.sent,a=Object(dt["a"])(r);try{for(a.s();!(n=a.n()).done;){i=n.value,e.connectedRealms.set(i.id,i),o=Object(dt["a"])(i.realms);try{for(o.s();!(s=o.n()).done;)c=s.value,e.realmsLookup.set(c.id,c),e.realms.push(c)}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return tt.orderBy(e.realms,(function(e){return e.name})),t.next=10,e.loadItems();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.error(t.t0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},watch:{alert:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,e.alertToModify=null!==(r=Object(Xe["cloneDeep"])(e.alert))&&void 0!==r?r:{name:"",description:"",conditions:[],actions:[]},!e.alert){t.next=9;break}return t.next=6,Promise.all(Object(q["a"])(new Set(e.alert.conditions.map((function(e){return e.wowItemId})))).map((function(e){return ft.getItem(e)})));case 6:a=t.sent,n=Object(dt["a"])(a);try{for(n.s();!(i=n.n()).done;)o=i.value,o&&e.items.set(o.id,o)}catch(s){n.e(s)}finally{n.f()}case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}},computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})),Vt=Pt,Et=r("4bd4"),Ft=r("b974"),Mt=r("3129"),Nt=r("e0c7"),qt=r("8654"),Gt=r("a844"),zt=r("71d9"),$t=Object(ce["a"])(Vt,Ut,Wt,!1,null,null,null),Bt=$t.exports;ue()($t,{VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VDialog:kt["a"],VDivider:De["a"],VForm:Et["a"],VIcon:me["a"],VList:ve["a"],VListItem:pe["a"],VListItemAction:fe["a"],VListItemContent:be["a"],VRow:_e["a"],VSelect:Ft["a"],VSkeletonLoader:Mt["a"],VSpacer:xt["a"],VSubheader:Nt["a"],VTextField:qt["a"],VTextarea:Gt["a"],VToolbar:zt["a"],VToolbarItems:ke["a"],VToolbarTitle:ke["b"]});var Kt=function(e){Object(b["a"])(r,e);var t=Object(w["a"])(r);function r(e,a,n,i,o){var s;return Object(v["a"])(this,r),s=t.call(this,e,a,n,o),Object(y["a"])(Object(f["a"])(s),"cache",void 0),s.cache=i,s}return Object(p["a"])(r,[{key:"getAlertsForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getUserAlertsCacheKey(t),a=this.cache.get(r),!a){e.next=8;break}if(!Array.isArray(a)){e.next=7;break}return e.abrupt("return",a);case 7:this.cache.delete(r);case 8:return e.next=10,this.get("users/".concat(t,"/alerts"));case 10:n=e.sent,i=n.data.nodes,o=void 0===i?[]:i,this.cache.set(r,o),s=Object(dt["a"])(o);try{for(s.s();!(c=s.n()).done;)l=c.value,this.cache.set(this.getAlertCacheKey(t,l.id),l)}catch(u){s.e(u)}finally{s.f()}return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAlertForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.getAlertCacheKey(t,r),n=this.cache.get(a),!n){e.next=8;break}if(!Array.isArray(n)){e.next=7;break}this.cache.delete(a),e.next=8;break;case 7:return e.abrupt("return",n);case 8:return e.next=10,this.get("users/".concat(t,"/alerts/").concat(r));case 10:return i=e.sent,o=i.data,o&&this.cache.set(a,o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createAlertForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.post("users/".concat(t,"/alerts"),r);case 2:return a=e.sent,n=a.data,this.updateCachedUserAlert(t,n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateAlertForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object.entries(a).map((function(e){var t=Object(Y["a"])(e,2),r=t[0],a=t[1];return{op:"add",path:"/".concat(r),value:a}})),e.next=3,this.patch("users/".concat(t,"/alerts/").concat(r),n);case 3:return i=e.sent,o=i.data,this.updateCachedUserAlert(t,o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"deleteAlertForUser",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete("users/".concat(t,"/alerts/").concat(r));case 2:this.cache.delete(this.getAlertCacheKey(t,r)),a=this.getUserAlertsCacheKey(t),n=this.cache.get(a),n&&(Array.isArray(n)?this.cache.set(a,n.filter((function(e){return e.id!==r}))):this.cache.delete(a));case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateCachedUserAlert",value:function(e,t){var r=t.id;this.cache.set(this.getAlertCacheKey(e,r),t);var a=this.getUserAlertsCacheKey(e),n=this.cache.get(a);if(n)if(Array.isArray(n)){var i=n.findIndex((function(e){return e.id===r}));i>=0?n[i]=t:n.push(t),this.cache.set(a,n)}else this.cache.delete(a)}},{key:"getAlertCacheKey",value:function(e,t){return"users/".concat(e,"/alerts/").concat(t)}},{key:"getUserAlertsCacheKey",value:function(e){return"users/".concat(e,"/alerts")}}]),r}(He),Ht=new Kt(x.a,ae,N,new et["LRUCache"]({maxSize:100,entryExpirationTimeInMS:9e5,clone:!0,cloneFn:Xe["cloneDeep"]}),B),Yt=s["default"].extend({name:"Alerts",components:{AlertDesigner:Bt},mixins:[bt],data:function(){return{pageLoading:!1,loadingSubscription:new h["b"],alerts:[],selectedAlert:null,showDeleteDialog:!1,stagedAlertToDelete:null,items:new Map,realms:[],realmsLookup:new Map,connectedRealms:new Map,showCreateAlertDialogField:!1}},methods:{getAlertColor:function(e){switch(e.state){case _.InsufficientData:return _t.a.amber.darken2;case _.Alarm:return _t.a.red.darken2;case _.Ok:return _t.a.green.darken2;default:throw new Error("".concat(e.state," is an invalid state."))}},splitAtUpperCase:function(e){return J.splitAtUpperCase(e)},getConditionsString:function(e){var t=this;return e.conditions.reduce((function(r,a,n){var i,o,s=t.items.get(a.wowItemId),c=null!==(i=null===(o=t.connectedRealms.get(a.connectedRealmId))||void 0===o?void 0:o.realms)&&void 0!==i?i:[],l=J.convertToGoldSilverCopper(a.threshold),u=l.g,d=l.s,h=l.c;return"".concat(r," ").concat(J.splitAtUpperCase(a.aggregationType).toLowerCase()," of ").concat(J.splitAtUpperCase(a.metric).toLowerCase(),' for <a href="https://www.wowhead.com/item=').concat(null===s||void 0===s?void 0:s.id,'" target="_blank">').concat(null===s||void 0===s?void 0:s.name,"</a> for ").concat(c.reduce((function(e,t,r){return"".concat(e).concat(t.name).concat(r!==c.length-1?"".concat(r===c.length-2?"".concat(c.length>2?", and ":" and "):", "):"")}),"")," is ").concat(J.splitAtUpperCase(a.operator).toLowerCase()," ").concat(a.metric===D.TotalAvailableForAuction?a.threshold.toLocaleString("en-US"):"".concat(u.toLocaleString("en-US"),"g ").concat(d,"s ").concat(h,"c")," over period of ").concat(a.aggregationTimeGranularityInHours," hour").concat(1===a.aggregationTimeGranularityInHours?"":"s").concat(n===e.conditions.length-1?".":" AND when")}),"When")}},computed:{showCreateAlertDialog:{get:function(){return this.showCreateAlertDialogField},set:function(e){e||(this.selectedAlert=null),this.showCreateAlertDialogField=e}}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c,l,u,d,h,g,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingSubscription=ie.loadingStateChanged.subscribe((function(t){return e.pageLoading=t})),ie.startLoading(),r=vt.getConnectedRealms(),t.next=5,Ht.getAlertsForUser(e.userId);case 5:return a=t.sent,t.next=8,r;case 8:return n=t.sent,t.next=11,Promise.all(Object(q["a"])(new Set(a.flatMap((function(e){return e.conditions})).map((function(e){return e.wowItemId})))).map((function(e){return ft.getItem(e)})));case 11:i=t.sent,o=Object(dt["a"])(i);try{for(o.s();!(s=o.n()).done;)c=s.value,c&&e.items.set(c.id,c)}catch(v){o.e(v)}finally{o.f()}l=Object(dt["a"])(n);try{for(l.s();!(u=l.n()).done;){d=u.value,e.connectedRealms.set(d.id,d),h=Object(dt["a"])(d.realms);try{for(h.s();!(g=h.n()).done;)m=g.value,e.realmsLookup.set(m.id,m),e.realms.push(m)}catch(v){h.e(v)}finally{h.f()}}}catch(v){l.e(v)}finally{l.f()}tt.orderBy(e.realms,(function(e){return e.name})),e.alerts=a,ie.stopLoading();case 19:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.loadingSubscription.unsubscribe()}}),Qt=Yt,Jt=Object(ce["a"])(Qt,Tt,Dt,!1,null,null,null),Zt=Jt.exports;ue()(Jt,{VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardSubtitle:Ie["b"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VIcon:me["a"],VRow:_e["a"],VSkeletonLoader:Mt["a"],VSpacer:xt["a"]});var Xt,er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",["Google"===e.socialLoginType?r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"registerUsingGoogleAccountForm",on:{submit:function(t){return t.preventDefault(),e.registerUsingGoogleAccount.apply(null,arguments)}},model:{value:e.registerUsingGoogleAccountForm.formValid,callback:function(t){e.$set(e.registerUsingGoogleAccountForm,"formValid",t)},expression:"registerUsingGoogleAccountForm.formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Register using Google Account")]),r("v-card-text",[e.errorMessage?r("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e(),r("v-text-field",{attrs:{rules:e.registerUsingGoogleAccountForm.usernameRules,label:"Username*",required:""},model:{value:e.registerUsingGoogleAccountForm.username,callback:function(t){e.$set(e.registerUsingGoogleAccountForm,"username",t)},expression:"registerUsingGoogleAccountForm.username"}}),r("small",[e._v("*indicates required field")])],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.registerUsingGoogleAccountForm.formValid,color:"success",type:"submit"}},[e._v("Continue")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetRegisterUsingGoogleAccountForm}},[e._v("Clear")])],1)],1)],1):r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"registerForm",on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}},model:{value:e.registerForm.formValid,callback:function(t){e.$set(e.registerForm,"formValid",t)},expression:"registerForm.formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Register")]),r("v-card-text",[e.errorMessage?r("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e(),r("v-text-field",{attrs:{type:"email",rules:e.registerForm.emailRules,label:"Email*",required:""},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),r("v-text-field",{attrs:{rules:e.registerForm.usernameRules,label:"Username*",autocomplete:"username",required:""},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}}),r("v-text-field",{attrs:{type:"password",rules:e.registerForm.passwordRules,label:"Password*",autocomplete:"new-password",required:""},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("v-text-field",{attrs:{type:"password",rules:e.confirmPasswordRules,label:"Confirm Password*",autocomplete:"new-password",required:""}}),r("small",[e._v("*indicates required field")])],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("div",[r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.registerForm.formValid,color:"success",type:"submit"}},[e._v("Continue")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetRegisterForm}},[e._v("Clear")])],1),r("v-card-actions",{staticClass:"justify-center"},[r("router-link",{attrs:{to:"/auth/login"}},[e._v("Already signed up? Log in!")])],1)],1),r("br")],1)],1)],1)],1)],1)],1)},tr=[];r("1276");(function(e){e["Account"]="Account",e["Alerts"]="Alerts",e["Register"]="Register",e["ConfirmEmail"]="ConfirmEmail",e["ForgotPassword"]="ForgotPassword",e["ResetPassword"]="ResetPassword",e["Login"]="Login",e["Default"]="Default",e["WatchLists"]="WatchLists",e["WatchList"]="WatchList",e["Test"]="Test",e["FAQ"]="FAQ",e["Privacy"]="Privacy",e["NotFound"]="NotFound",e["Forbidden"]="Forbidden"})(Xt||(Xt={}));var rr=s["default"].extend({name:"Register",data:function(){return{socialLoginType:null,registerUsingGoogleAccountForm:{username:null,usernameRules:[function(e){return!!e||"Username is required"}],idToken:null,formValid:!1},registerForm:{username:null,usernameRules:[function(e){return!!e||"Username is required"}],password:null,passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6&&e.length<=256||"Password must be between 6 and 256 characters long."}],email:null,emailRules:[function(e){return!!e||"Email is required"}],formValid:!1},errorMessage:null,loading:!1}},methods:{register:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.registerForm,a=r.username,n=r.password,i=r.formValid,o=r.email,i&&n&&a&&o){t.next=4;break}return e.errorMessage="Invalid form.",t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,ae.registerUser({username:a,password:n,email:o});case 8:e.errorMessage=null,e.$router.push({name:Xt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.errorMessage="Something went wrong.";case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},registerUsingGoogleAccount:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.registerUsingGoogleAccountForm,a=r.username,n=r.idToken,i=r.formValid,i&&n&&a){t.next=4;break}return e.errorMessage="Invalid form.",t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,ae.registerUserUsingGoogleAccount(a,n);case 8:e.errorMessage=null,e.$router.push({name:Xt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.errorMessage="Something went wrong.";case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},resetRegisterForm:function(){this.errorMessage=null,this.$refs.registerForm.reset()},resetRegisterUsingGoogleAccountForm:function(){this.errorMessage=null,this.$refs.registerUsingGoogleAccountForm.reset()}},computed:{confirmPasswordRules:function(){var e=this;return[function(t){return t===e.registerForm.password||"Passwords must match."}]}},mounted:function(){var e=this.$route.query.socialLogin;if(e&&e===R.Google&&ut.isSignedIn&&ut.currentUser){var t;this.socialLoginType=R.Google;var r=ut.currentUser;this.registerUsingGoogleAccountForm.idToken=r.getAuthResponse().id_token,this.registerUsingGoogleAccountForm.username=(null===(t=r.getBasicProfile().getEmail())||void 0===t?void 0:t.split("@")[0])||null}}}),ar=rr,nr=r("0798"),ir=r("490a"),or=Object(ce["a"])(ar,er,tr,!1,null,null,null),sr=or.exports;ue()(or,{VAlert:nr["a"],VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VForm:Et["a"],VProgressCircular:ir["a"],VRow:_e["a"],VTextField:qt["a"]});var cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("v-card",{staticClass:"mx-auto",attrs:{elevation:"2","max-width":"400"}},[r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-card-title",{staticClass:"justify-center"},[e._v("Login")]),r("v-card-text",[r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.showErrorAlert,callback:function(t){e.showErrorAlert=t},expression:"showErrorAlert"}},[e._v(e._s(e.errorMessage))]),r("v-text-field",{attrs:{rules:e.usernameRules,label:"Username",autocomplete:"current-username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",autocomplete:"current-password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("div",[r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.formValid,color:"success",type:"submit"},on:{click:e.login}},[e._v("Login")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetForm}},[e._v("Clear")])],1),r("v-card-text",{staticClass:"text-center"},[r("strong",[e._v("Or")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"google-btn",attrs:{color:"white"},on:{click:e.googleLogin}},[r("img",{staticClass:"google-btn-logo",attrs:{src:"img/google-logo.png",alt:"Google logo"}}),r("span",{staticClass:"google-btn-text"},[e._v("Continue with Google")])])],1),r("v-card-actions",{staticClass:"justify-center"},[r("router-link",{attrs:{to:"/auth/register"}},[e._v("Not signed up yet? Sign up!")])],1)],1),r("br")],1)],1)],1)],1)],1)],1)},lr=[],ur=s["default"].extend({name:"Login",data:function(){return{username:null,usernameRules:[function(e){return!!e||"Username is required"}],password:null,passwordRules:[function(e){return!!e||"Password is required"}],formValid:!1,errorMessage:null,showErrorAlert:!1,loading:!1}},methods:{googleLogin:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.clearErrorMessage(),t.prev=2,t.next=5,ut.signIn();case 5:return r=t.sent,a=r.getAuthResponse().id_token,t.next=9,ae.loginGoogle(a);case 9:e.errorMessage=null,e.$router.push({name:Xt.WatchLists}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),Q.isAxiosError(t.t0)&&404===(null===(n=t.t0.response)||void 0===n?void 0:n.status)?e.$router.push({name:Xt.Register,query:{socialLogin:R.Google}}):e.showErrorMessage("Unable to login with Google.");case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))()},login:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.clearErrorMessage(),e.username&&e.password){t.next=4;break}return e.showErrorMessage("Username and password are required."),t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,ae.login(e.username,e.password);case 8:e.errorMessage=null,e.$router.push({name:Xt.WatchLists}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),Q.isAxiosError(t.t0)&&401===(null===(r=t.t0.response)||void 0===r?void 0:r.status)?e.showErrorMessage("Invalid username or password."):e.showErrorMessage("Unable to login.");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()},showErrorMessage:function(e){this.errorMessage=e,this.showErrorAlert=!0},clearErrorMessage:function(){this.errorMessage=null,this.showErrorAlert=!1},resetForm:function(){this.errorMessage=null,this.$refs.form.reset()}}}),dr=ur,hr=(r("4eb0"),Object(ce["a"])(dr,cr,lr,!1,null,"bc20db7e",null)),gr=hr.exports;ue()(hr,{VAlert:nr["a"],VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VForm:Et["a"],VProgressCircular:ir["a"],VRow:_e["a"],VTextField:qt["a"]});var mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[e.error?r("v-card-text",[e._v(" We were not able to confirm your email. ")]):e.emailConfirmed?r("v-card-text",[e._v(" Thank you for confirming your email! ")]):r("v-card-text",[e._v(" Please wait. We are confirming your email. ")])],1)],1)},vr=[],pr=s["default"].extend({name:"ConfirmEmail",data:function(){return{emailConfirmed:!1,error:!1}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(ie.startLoading(),r=e.$route.query,a=r.token,n=r.email,a&&n){t.next=6;break}return ie.stopLoading(),e.error=!0,t.abrupt("return");case 6:return t.prev=6,t.next=9,ae.confirmEmail(Array.isArray(n)?null!==(i=n[0])&&void 0!==i?i:"":n,Array.isArray(a)?null!==(o=a[0])&&void 0!==o?o:"":a);case 9:e.emailConfirmed=!0,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](6),e.error=!0;case 15:return t.prev=15,ie.stopLoading(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[6,12,15,18]])})))()}}),fr=pr,br=Object(ce["a"])(fr,mr,vr,!1,null,null,null),wr=br.exports;ue()(br,{VCard:Ce["a"],VCardText:Ie["c"]});var yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Testing Page")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],attrs:{type:"number"},domProps:{value:e.status},on:{input:function(t){t.target.composing||(e.status=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.statusAfter,expression:"statusAfter"}],attrs:{type:"number"},domProps:{value:e.statusAfter},on:{input:function(t){t.target.composing||(e.statusAfter=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.delay,expression:"delay"}],attrs:{type:"number"},domProps:{value:e.delay},on:{input:function(t){t.target.composing||(e.delay=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.per,expression:"per"}],attrs:{type:"number"},domProps:{value:e.per},on:{input:function(t){t.target.composing||(e.per=t.target.value)}}}),r("button",{on:{click:function(t){return e.test()}}},[e._v("Test")]),r("button",{on:{click:function(t){return e.getUsers()}}},[e._v("Test Get Users")])])},kr=[],xr=s["default"].extend({name:"Test",data:function(){return{status:500,statusAfter:200,delay:0,per:0}},methods:{test:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Qe.test(e.status,e.delay,e.statusAfter,e.per);case 2:case"end":return t.stop()}}),t)})))()},getUsers:function(){return Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe.getUsers();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()}}}),Ar=xr,jr=Object(ce["a"])(Ar,yr,kr,!1,null,null,null),Lr=jr.exports,Or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showDeleteDialog,callback:function(t){e.showDeleteDialog=t},expression:"showDeleteDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelDeleteStagedWatchList}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteStagedWatchList}},[e._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.editWatchList.showDialog,callback:function(t){e.$set(e.editWatchList,"showDialog",t)},expression:"editWatchList.showDialog"}},[r("v-card",[r("v-form",{ref:"editWatchListForm",on:{submit:function(t){return t.preventDefault(),e.saveEditWatchList.apply(null,arguments)}},model:{value:e.editWatchList.formValid,callback:function(t){e.$set(e.editWatchList,"formValid",t)},expression:"editWatchList.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Edit Watch List")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Name",rules:e.watchListCommon.nameRules},on:{input:function(t){e.editWatchList.watchListToEdit.name.edited=!0}},model:{value:e.editWatchList.watchListToEdit.name.value,callback:function(t){e.$set(e.editWatchList.watchListToEdit.name,"value",t)},expression:"editWatchList.watchListToEdit.name.value"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Description"},on:{input:function(t){e.editWatchList.watchListToEdit.description.edited=!0}},model:{value:e.editWatchList.watchListToEdit.description.value,callback:function(t){e.$set(e.editWatchList.watchListToEdit.description,"value",t)},expression:"editWatchList.watchListToEdit.description.value"}})],1)],1)],1)],1),e.editWatchList.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEditWatchListDialog}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:0===Object.keys(e.editedWatchListValues).length}},[e._v("Save")])],1)],1)],1)],1),e.pageLoading?r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1):r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-title",[e._v("My Watch Lists")]),r("v-card-actions",[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"success",dark:""}},"v-btn",n,!1),a),[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" Create New ")],1)]}}],null,!1,885267179),model:{value:e.createNewWatchList.showDialog,callback:function(t){e.$set(e.createNewWatchList,"showDialog",t)},expression:"createNewWatchList.showDialog"}},[r("v-card",[r("v-form",{ref:"createWatchListForm",on:{submit:function(t){return t.preventDefault(),e.createWatchList.apply(null,arguments)}},model:{value:e.createNewWatchList.formValid,callback:function(t){e.$set(e.createNewWatchList,"formValid",t)},expression:"createNewWatchList.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Create New Watch List")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Name*",rules:e.watchListCommon.nameRules,required:""},model:{value:e.createNewWatchList.watchListToCreate.name,callback:function(t){e.$set(e.createNewWatchList.watchListToCreate,"name",t)},expression:"createNewWatchList.watchListToCreate.name"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Description"},model:{value:e.createNewWatchList.watchListToCreate.description,callback:function(t){e.$set(e.createNewWatchList.watchListToCreate,"description",t)},expression:"createNewWatchList.watchListToCreate.description"}})],1)],1)],1),r("small",[e._v("*indicates required field")])],1),e.createNewWatchList.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.createNewWatchList.showDialog=!1,e.resetCreateWatchListForm()}}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:!e.createNewWatchList.formValid}},[e._v(" Create ")])],1)],1)],1)],1)],1)],1)],1),e._l(e.watchLists,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12",lg:"6"}},[r("v-card",[r("v-card-title",[e._v(e._s(t.name))]),r("v-card-text",[e._v(" "+e._s(t.description)+" ")]),r("v-card-actions",[r("v-btn",{attrs:{color:"accent"},on:{click:function(r){return e.goToWatchList(t.id)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-view-list ")]),e._v("View")],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(r){return e.stageEditWatchList(t)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-pencil ")]),e._v("Edit")],1),r("v-btn",{attrs:{color:"error"},on:{click:function(r){e.stagedWatchListToDelete=t,e.showDeleteDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Delete")],1)],1)],1)],1)}))],2)],1)},Rr=[],Cr=s["default"].extend({name:"WatchLists",mixins:[bt],data:function(){return{pageLoading:!1,loadingSubscription:new h["b"],watchLists:[],showDeleteDialog:!1,stagedWatchListToDelete:null,realms:[],realmsLookup:new Map,connectedRealms:new Map,watchListCommon:{nameRules:[function(e){return!!e||"Name is required"}]},createNewWatchList:{loading:!1,formValid:!1,showDialog:!1,watchListToCreate:{}},editWatchList:{stagedWatchList:null,watchListToEdit:{name:{edited:!1,value:""},description:{edited:!1,value:""}},loading:!1,formValid:!1,showDialog:!1,watchListIndex:NaN}}},methods:{goToWatchList:function(e){this.$router.push({name:Xt.WatchList,params:{id:e.toString()}})},cancelDeleteStagedWatchList:function(){this.showDeleteDialog=!1,this.stagedWatchListToDelete=null},deleteStagedWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.stagedWatchListToDelete){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,gt.deleteWatchListForUser(e.userId,e.stagedWatchListToDelete.id);case 5:e.watchLists=e.watchLists.filter((function(t){var r;return t.id!==(null===(r=e.stagedWatchListToDelete)||void 0===r?void 0:r.id)})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.prev=11,e.stagedWatchListToDelete=null,e.showDeleteDialog=!1,t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[2,8,11,15]])})))()},createWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.createNewWatchList.watchListToCreate,!J.isEmptyObject(r)){t.next=4;break}return B.warn("watchListToCreate is empty ".concat(r)),t.abrupt("return");case 4:return t.prev=4,e.createNewWatchList.loading=!0,t.next=8,gt.createWatchListForUser(e.userId,r);case 8:a=t.sent,e.watchLists.push(a),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error(t.t0);case 15:return t.prev=15,e.createNewWatchList.loading=!1,e.createNewWatchList.showDialog=!1,e.resetCreateWatchListForm(),t.finish(15);case 20:case"end":return t.stop()}}),t,null,[[4,12,15,20]])})))()},stageEditWatchList:function(e){var t=this;this.editWatchList.watchListIndex=this.watchLists.indexOf(e),Object.keys(this.editWatchList.watchListToEdit).forEach((function(r){t.editWatchList.watchListToEdit[r]={edited:!1,value:e[r]}})),this.editWatchList.stagedWatchList=e,this.editWatchList.showDialog=!0},saveEditWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.watchLists,a=e.editWatchList,n=a.stagedWatchList,i=a.watchListToEdit,o=a.watchListIndex,i&&n){t.next=6;break}return B.error("No watch list staged for editing."),e.closeEditWatchListDialog(),t.abrupt("return");case 6:if(!J.isEmptyObject(e.editedWatchListValues)){t.next=9;break}return e.closeEditWatchListDialog(),t.abrupt("return");case 9:return e.editWatchList.loading=!0,t.prev=10,t.next=13,gt.updateWatchListForUser(e.userId,n.id,e.editedWatchListValues);case 13:s=t.sent,r.splice(o,1,Object(m["a"])(Object(m["a"])({},n),s)),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](10),B.error("Unable to update watch list: ".concat(t.t0.message));case 20:return t.prev=20,e.closeEditWatchListDialog(),e.editWatchList.loading=!1,t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[10,17,20,24]])})))()},closeEditWatchListDialog:function(){var e=this;this.editWatchList.stagedWatchList=null,this.editWatchList.watchListIndex=NaN,this.editWatchList.showDialog=!1,Object.keys(this.editWatchList.watchListToEdit).forEach((function(t){e.editWatchList.watchListToEdit[t]={edited:!1,value:""}})),this.resetEditWatchListForm()},resetCreateWatchListForm:function(){this.$refs.createWatchListForm.reset()},resetEditWatchListForm:function(){this.$refs.editWatchListForm.reset()}},computed:{editedWatchListValues:function(){return Object.entries(this.editWatchList.watchListToEdit).filter((function(e){var t=Object(Y["a"])(e,2),r=t[1];return r&&r.edited})).reduce((function(e,t){var r=Object(Y["a"])(t,2),a=r[0],n=r[1].value;return Object(m["a"])(Object(m["a"])({},e),{},Object(y["a"])({},a,n))}),{})}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingSubscription=ie.loadingStateChanged.subscribe((function(t){return e.pageLoading=t})),ie.startLoading(),r=vt.getConnectedRealms(),t.next=5,gt.getWatchListsForUser(e.userId);case 5:return a=t.sent,t.next=8,r;case 8:n=t.sent,i=Object(dt["a"])(n);try{for(i.s();!(o=i.n()).done;){s=o.value,e.connectedRealms.set(s.id,s),c=Object(dt["a"])(s.realms);try{for(c.s();!(l=c.n()).done;)u=l.value,e.realmsLookup.set(u.id,u),e.realms.push(u)}catch(d){c.e(d)}finally{c.f()}}}catch(d){i.e(d)}finally{i.f()}tt.orderBy(e.realms,(function(e){return e.name})),e.watchLists=a,ie.stopLoading();case 14:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.loadingSubscription.unsubscribe()}}),Ir=Cr,Tr=Object(ce["a"])(Ir,Or,Rr,!1,null,null,null),Dr=Tr.exports;ue()(Tr,{VBtn:ge["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VDialog:kt["a"],VForm:Et["a"],VIcon:me["a"],VProgressCircular:ir["a"],VRow:_e["a"],VSkeletonLoader:Mt["a"],VSpacer:xt["a"],VTextField:qt["a"],VTextarea:Gt["a"]});var Sr,_r,Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("alert-designer",{attrs:{connectedRealmId:e.createAlertDialog.watchedItem?e.createAlertDialog.watchedItem.connectedRealmId:void 0,wowItemId:e.createAlertDialog.watchedItem?e.createAlertDialog.watchedItem.wowItemId:void 0},model:{value:e.createAlertDialog.show,callback:function(t){e.$set(e.createAlertDialog,"show",t)},expression:"createAlertDialog.show"}}),!e.pageLoading&&e.chartDatas?r("v-row",[r("v-col",{attrs:{cols:"12"}},[e.watchList?r("v-card",{attrs:{elevation:"2"}},[r("v-card-title",[e._v(e._s(e.watchList.name))]),r("v-card-text",[e._v(" "+e._s(e.watchList.description)+" ")]),r("v-card-actions",[r("v-row",[r("v-col",[r("v-btn-toggle",{attrs:{group:""},model:{value:e.timeFrame,callback:function(t){e.timeFrame=t},expression:"timeFrame"}},[r("v-btn",{attrs:{value:"week"},on:{click:e.useWeekTimeRange}},[e._v("Week")]),r("v-btn",{attrs:{value:"twoWeeks"},on:{click:e.useTwoWeekTimeRange}},[e._v("Two Weeks")]),r("v-btn",{attrs:{value:"month"},on:{click:e.useMonthTimeRange}},[e._v("Month")])],1)],1),r("v-col",{staticClass:"text-right"},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"success",dark:""}},"v-btn",n,!1),a),[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" Add Item ")],1)]}}],null,!1,3512647335),model:{value:e.addNewItemToWatchList.showDialog,callback:function(t){e.$set(e.addNewItemToWatchList,"showDialog",t)},expression:"addNewItemToWatchList.showDialog"}},[r("v-card",[r("v-form",{ref:"addItemToWatchListForm",on:{submit:function(t){return t.preventDefault(),e.addSelectedItemToWatchList.apply(null,arguments)}},model:{value:e.addNewItemToWatchList.formValid,callback:function(t){e.$set(e.addNewItemToWatchList,"formValid",t)},expression:"addNewItemToWatchList.formValid"}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add Item to Watch List")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-autocomplete",{staticClass:"mx-4",attrs:{items:e.items,loading:e.itemsLoading,"search-input":e.itemsSearchTerm,"cache-items":"","item-text":"name","item-value":"id","hide-no-data":"","hide-details":"",label:"Item*",rules:[function(e){return!!e||"Please select realm."}]},on:{"update:searchInput":function(t){e.itemsSearchTerm=t},"update:search-input":function(t){e.itemsSearchTerm=t},change:e.disableWoWHeadLinks},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.parent,n=t.item;return[r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:e._s(""+e.genFilteredColoredText(n.name,e.getItemQualityColor(n.quality,n.id),a))}})],1)]}}],null,!1,2994177770),model:{value:e.addNewItemToWatchList.selectedItemId,callback:function(t){e.$set(e.addNewItemToWatchList,"selectedItemId",t)},expression:"addNewItemToWatchList.selectedItemId"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-autocomplete",{staticClass:"mx-4",attrs:{items:e.realms,"item-text":"name","item-value":"id","hide-no-data":"","hide-details":"",label:"Realm*",rules:[function(e){return!!e||"Please select an item."}]},model:{value:e.addNewItemToWatchList.selectedRealmId,callback:function(t){e.$set(e.addNewItemToWatchList,"selectedRealmId",t)},expression:"addNewItemToWatchList.selectedRealmId"}})],1)],1)],1),r("small",[e._v("*indicates required field")])],1),e.addNewItemToWatchList.loading?r("v-card-actions",{staticClass:"justify-center"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.addNewItemToWatchList.showDialog=!1,e.resetAddItemToWatchListForm()}}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit",disabled:!e.addNewItemToWatchList.formValid}},[e._v(" Add ")])],1)],1)],1)],1)],1)],1)],1)],1):e._e()],1),0===e.chartDatas.length?r("v-col",[r("v-card",{attrs:{elevation:"2"}},[r("v-card-text",[e._v(" No items have been added to the watch list. ")])],1)],1):e._l(e.chartDatas,(function(t){var a=t.data,n=t.watchedItem;return r("v-col",{key:n.id,attrs:{cols:"12"}},[r("v-card",{attrs:{elevation:"2"}},[r("v-card-title",[r("span",{style:{color:e.getItemQualityColor(n.wowItem.quality,n.wowItemId)}},[e._v(e._s(n.wowItem.name))]),r("v-spacer"),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.showCreateAlertDialog(n)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v("Create Alert")],1),r("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.removeItemFromWatchList(n.id)}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v("Remove")],1)],1),r("v-card-subtitle",[r("a",{attrs:{href:"https://www.wowhead.com/item="+n.wowItemId,target:"_blank"}},[e._v("WoWHead Tooltip")])]),r("v-card-text",[e._v(" "+e._s("Realm"+(e.getConnectedRealm(n.connectedRealmId).realms.length>1?"s":"")+": "+e.getConnectedRealm(n.connectedRealmId).realms.map((function(e){return e.name})).sort().reduce((function(e,t,r){return(0===r?"":e+", ")+t})))+" "),r("br"),e._v(" Population: "+e._s(e.getConnectedRealm(n.connectedRealmId).population)+" "),r("br"),e._v(" Range Min: "+e._s(e.getCurrencyBreakdownString(1e4*e.getRangeStats(n.id).rangeMin))+" Range Max: "+e._s(e.getCurrencyBreakdownString(1e4*e.getRangeStats(n.id).rangeMax))+" "),r("br"),e._v(" Current Price "+e._s(e.getCurrencyBreakdownString(1e4*e.getRangeStats(n.id).currentPrice))+" ("+e._s(e.getRangeStats(n.id).currentPriceDescription)+": "+e._s(e.getRangeStats(n.id).rangePercent.toFixed(2))+"%) "),a.datasets&&a.datasets.length>0&&a.datasets.some((function(e){return Array.isArray(e.data)&&e.data.length>1}))?r("line-chart",{attrs:{chartData:a,chartOptions:e.chartOptions,chartPlugins:e.chartPlugins}}):r("p",[e._v("Not enough data yet for this item. Please check back later!")])],1)],1)],1)}))],2):r("div",e._l(3,(function(e){return r("v-skeleton-loader",{key:e,class:3!=e?"mb-6":"",attrs:{type:"card",elevation:"2"}})})),1)],1)},Wr=[],Pr=(r("cb29"),r("1fca")),Vr=Pr["b"].reactiveProp,Er=s["default"].extend({name:"LineChart",extends:Pr["a"],mixins:[Vr],props:{chartOptions:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1}},required:!1},chartColors:{type:Array,required:!1,validator:function(e){return!!Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))}},chartPlugins:{type:Array,required:!1,default:function(){return[]}}},mounted:function(){var e,t,r=this,a=this.$refs.canvas.getContext("2d");if(a){this.chartPlugins.forEach((function(e){return r.addPlugin(e)}));var n=null!==(e=this.chartColors)&&void 0!==e?e:[_t.a.purple.base,_t.a.blue.base,_t.a.red.base,_t.a.amber.base,_t.a.indigo.base,_t.a.green.base,_t.a.pink.base,_t.a.lime.base,_t.a.cyan.base];null===(t=this.chartData.datasets)||void 0===t||t.forEach((function(e,t){var r,i,o,s,c=nt.getColorGradient(e.borderColor&&"string"===typeof e.borderColor?e.borderColor:n[t%n.length],a),l=c.gradient,u=c.color;null!==(r=e.backgroundColor)&&void 0!==r||(e.backgroundColor=l),null!==(i=e.borderColor)&&void 0!==i||(e.borderColor=u),null!==(o=e.borderWidth)&&void 0!==o||(e.borderWidth=1),null!==(s=e.fill)&&void 0!==s||(e.fill=!0)})),this.renderChart(this.chartData,this.chartOptions),this.$on("chart:update",(function(){var e;null===(e=r.chartData.datasets)||void 0===e||e.forEach((function(e,t){var r,i,o,s,c=nt.getColorGradient(e.borderColor&&"string"===typeof e.borderColor?e.borderColor:n[t%n.length],a),l=c.gradient,u=c.color;null!==(r=e.backgroundColor)&&void 0!==r||(e.backgroundColor=l),null!==(i=e.borderColor)&&void 0!==i||(e.borderColor=u),null!==(o=e.borderWidth)&&void 0!==o||(e.borderWidth=1),null!==(s=e.fill)&&void 0!==s||(e.fill=!0)})),r.renderChart(r.chartData,r.chartOptions)}))}else B.error("No context found.")}}),Fr=Er,Mr=Object(ce["a"])(Fr,Sr,_r,!1,null,null,null),Nr=Mr.exports,qr=function(){function e(){Object(v["a"])(this,e)}return Object(p["a"])(e,null,[{key:"sum",value:function(e){return e.reduce((function(e,t){return e+t}),0)}},{key:"mean",value:function(e){return this.sum(e)/e.length}},{key:"std",value:function(e){var t=this.mean(e),r=e.map((function(e){return Math.pow(e-t,2)}));return Math.sqrt(this.sum(r)/(e.length-1))}},{key:"quantile",value:function(e,t){var r=tt.sortAsc(e),a=(r.length-1)*t,n=Math.floor(a),i=a-n;return void 0!==r[n+1]?r[n]+i*(r[n+1]-r[n]):r[n]}},{key:"q25",value:function(e){return this.quantile(e,.25)}},{key:"q50",value:function(e){return this.quantile(e,.5)}},{key:"q75",value:function(e){return this.quantile(e,.75)}},{key:"q95",value:function(e){return this.quantile(e,.95)}},{key:"percentRank",value:function(e,t){for(var r,a,n,i,o=tt.sortAsc(Object(q["a"])(e)),s=0;s<o.length;s++)if(o[s]===t)return s/(o.length-1);for(var c=0;c<o.length-1;c++)if(o[c]<t&&t<o[c+1])return r=o[c],a=o[c+1],n=this.percentRank(o,r),i=this.percentRank(o,a),((a-t)*n+(t-r)*i)/(a-r);throw new Error("Out of bounds")}}]),e}(),Gr=s["default"].extend({name:"WatchList",components:{LineChart:Nr,AlertDesigner:Bt},mixins:[bt],props:{id:{type:String,required:!0}},data:function(){return{addNewItemToWatchList:{loading:!1,selectedRealmId:null,selectedItemId:null,formValid:!1,showDialog:!1},pageLoading:!1,createAlertDialog:{show:!1,watchedItem:null},pageLoadingSubscription:new h["b"],watchList:void 0,realms:[],realmToConnectedRealmLookup:new Map,connectedRealmLookup:new Map,rangeStats:new Map,chartDatas:void 0,chartOptions:{responsive:!0,maintainAspectRatio:!1,tooltips:{intersect:!1,mode:"index",callbacks:{title:function(e){var t;return e.length>0?new Date(null!==(t=e[0].label)&&void 0!==t?t:"").toLocaleString("en-US"):"No Label"},label:function(e,t){var r,a,n,i,o=null!==(r=t.datasets)&&void 0!==r?r:[],s=o[null!==(a=e.datasetIndex)&&void 0!==a?a:0],c=(null!==(n=s.data)&&void 0!==n?n:[])[null!==(i=e.index)&&void 0!==i?i:0].y;if("Total Available"===s.label)return"".concat(s.label,": ").concat(c.toLocaleString("en-US",{maximumFractionDigits:2}));var l=J.convertToGoldSilverCopper(1e4*c),u=l.g,d=l.s,h=l.c;return"".concat(s.label,": ").concat(u.toLocaleString("en-US",{maximumFractionDigits:2}),"g ").concat(d,"s ").concat(h,"c")}}},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{display:!1}}],yAxes:[{id:"y-axis-price",position:"left",scaleLabel:{display:!0,labelString:"Price (g)"},gridLines:{display:!1},ticks:{callback:function(e){return"number"===typeof e&&e>=1e3?"".concat((e/1e3).toLocaleString("en-US",{maximumFractionDigits:2}),"k"):"".concat(e.toLocaleString("en-US",{maximumFractionDigits:2}))}}},{id:"y-axis-amount",position:"right",scaleLabel:{display:!0,labelString:"Available"},gridLines:{display:!1},ticks:{callback:function(e){return"number"===typeof e&&e>=1e3?"".concat((e/1e3).toLocaleString("en-US",{maximumFractionDigits:2}),"k"):"".concat(e.toLocaleString("en-US",{maximumFractionDigits:2}))}}}]}},chartPlugins:[ot.createVerticalLinePlugin()],watchedItems:new Map,itemTimeseries:new Map,timeFrame:"week",itemsLoading:!1,items:[],itemsSearchTerm:null}},methods:{disableWoWHeadLinks:function(){var e,t=document.getElementsByClassName("wowhead-tooltip"),r=Object(dt["a"])(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.setAttribute("style","visibility: hidden;");var n,i=a.getElementsByTagName("p"),o=Object(dt["a"])(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.setAttribute("style","visibility: hidden;")}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}},showCreateAlertDialog:function(e){this.createAlertDialog.watchedItem=e,this.createAlertDialog.show=!0},getItemQualityColor:function(e,t){return nt.getItemQualityColor(e,te.darkThemeSet,t)},getCurrencyBreakdownString:function(e){var t=J.convertToGoldSilverCopper(e),r=t.g,a=t.s,n=t.c;return"".concat(r.toLocaleString("en-US",{maximumFractionDigits:2}),"g ").concat(a.toLocaleString("en-US",{maximumFractionDigits:2}),"s ").concat(n.toLocaleString("en-US",{maximumFractionDigits:2}),"c")},genFilteredColoredText:function(e,t,r){var a,n=null!==(a=null===r||void 0===r?void 0:r.genFilteredText(e))&&void 0!==a?a:"",i="<span",o=n.indexOf(i);return o>=0&&(n=J.insert(n,o+i.length,' style="color: '.concat(t,'"'))),'<span style="color: '.concat(t,'">').concat(n,"</span>")},useWeekTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("week"))},useTwoWeekTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("twoWeeks"))},useMonthTimeRange:function(){this.chartDatas=this.getChartDatas(this.getTimeAgo("month"))},getChartDatas:function(e,t){var r,a=this,n=[],i=Object(dt["a"])(null!==t&&void 0!==t?t:this.itemTimeseries.entries());try{for(i.s();!(r=i.n()).done;){var o=Object(Y["a"])(r.value,2),s=o[0],c=o[1],l=this.watchedItems.get(s);if(l){var u=c.filter((function(t){var r=t.timestamp;return new Date(r).getTime()>e})),d=u.reduce((function(e,t){var r=t.minPrice/1e4,n=a.rangeStats.get(e.watchedItem.id);return n?(n.rangeMin=Math.min(n.rangeMin,r),n.rangeMax=Math.max(n.rangeMax,r),n.currentPrice=r):a.rangeStats.set(e.watchedItem.id,{rangeMin:r,rangeMax:r,currentPrice:r,rangePercent:0,currentPriceDescription:""}),{watchedItem:e.watchedItem,min:[].concat(Object(q["a"])(e.min),[{t:t.timestamp,y:r}]),max:[].concat(Object(q["a"])(e.max),[{t:t.timestamp,y:t.maxPrice/1e4}]),average:[].concat(Object(q["a"])(e.average),[{t:t.timestamp,y:t.averagePrice/1e4}]),price25:[].concat(Object(q["a"])(e.price25),[{t:t.timestamp,y:t.price25Percentile/1e4}]),price50:[].concat(Object(q["a"])(e.price50),[{t:t.timestamp,y:t.price50Percentile/1e4}]),price75:[].concat(Object(q["a"])(e.price75),[{t:t.timestamp,y:t.price75Percentile/1e4}]),price95:[].concat(Object(q["a"])(e.price95),[{t:t.timestamp,y:t.price95Percentile/1e4}]),price99:[].concat(Object(q["a"])(e.price99),[{t:t.timestamp,y:t.price99Percentile/1e4}]),totalAvailable:[].concat(Object(q["a"])(e.totalAvailable),[{t:t.timestamp,y:t.totalAvailableForAuction}])}}),{watchedItem:l,min:[],max:[],average:[],price25:[],price50:[],price75:[],price95:[],price99:[],totalAvailable:[]}),h=this.rangeStats.get(d.watchedItem.id);if(h){h.rangePercent=100*qr.percentRank(u.map((function(e){return e.minPrice/1e4})),h.currentPrice);var g=h.rangePercent;h.currentPriceDescription=g<=25?"Cheap":g>=75?"Expensive":"Average"}n.push({watchedItem:d.watchedItem,data:{datasets:d.watchedItem.wowItemId===at.wowTokenId?[{label:"Price",data:d.min,borderColor:_t.a.cyan.base,pointRadius:0,hidden:!1}]:[{label:"Total Available",data:d.totalAvailable,borderColor:_t.a.purple.base,yAxisID:"y-axis-amount",pointRadius:0,hidden:!1},{label:"Min",data:d.min,borderColor:_t.a.cyan.base,pointRadius:0,hidden:!1},{label:"Max",data:d.max,borderColor:_t.a.red.base,pointRadius:0,hidden:!0},{label:"Average",data:d.average,borderColor:_t.a.amber.base,pointRadius:0,hidden:!0},{label:"25th Percentile",data:d.price25,borderColor:_t.a.indigo.base,pointRadius:0,hidden:!0},{label:"50th Percentile",data:d.price50,borderColor:_t.a.green.base,pointRadius:0,hidden:!0},{label:"75th Percentile",data:d.price75,borderColor:_t.a.pink.base,pointRadius:0,hidden:!0},{label:"95th Percentile",data:d.price95,borderColor:_t.a.blue.base,pointRadius:0,hidden:!0},{label:"99th Percentile",data:d.price99,borderColor:_t.a.lime.base,pointRadius:0,hidden:!0}]}})}else B.error("Watched item not found in map for id ".concat(s,"."))}}catch(m){i.e(m)}finally{i.f()}return tt.orderBy(n,(function(e){return e.watchedItem.wowItem.name})),n},getTimeAgo:function(e){var t=new Date;switch(e){case"week":return t.setDate((new Date).getDate()-7),t.getTime();case"twoWeeks":return t.setDate((new Date).getDate()-14),t.getTime();case"month":return t.setMonth((new Date).getMonth()-1),t.getTime();default:return NaN}},getConnectedRealm:function(e){var t=this.connectedRealmLookup.get(e);if(!t)throw new Error("No realm found for id ".concat(e,"."));return t},getRangeStats:function(e){var t=this.rangeStats.get(e);return null!==t&&void 0!==t?t:{rangeMin:0,rangeMax:0,currentPrice:0,rangePercent:0,currentPriceDescription:""}},resetAddItemToWatchListForm:function(){this.$refs.addItemToWatchListForm.reset()},removeItemFromWatchList:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.watchList){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,gt.deleteItemFromWatchListForUser(t.userId,t.watchList.id,e);case 5:n=r.sent,tt.removeWhere(null!==(a=t.chartDatas)&&void 0!==a?a:[],(function(t){var r=t.watchedItem;return r.id===e})),t.itemTimeseries.delete(e),t.watchList=n,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),B.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},addSelectedItemToWatchList:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.addNewItemToWatchList,a=r.selectedRealmId,n=r.selectedItemId,null!==a&&null!==n&&e.watchList){t.next=4;break}return B.error("No selected item!"),t.abrupt("return");case 4:if(i=e.realmToConnectedRealmLookup.get(a),i){t.next=8;break}return B.error("No connected realm found for realm id ".concat(a,".")),t.abrupt("return");case 8:return t.prev=8,t.next=11,gt.addItemToWatchListForUser(e.userId,e.watchList.id,{wowItemId:n,connectedRealmId:i.id});case 11:if(c=t.sent,e.watchList=c,l=c.watchedItems.find((function(e){return e.wowItemId===n&&e.connectedRealmId===i.id})),l){t.next=17;break}return B.error("No item with id ".concat(n," and connected realm id ").concat(i.id," on watch list.")),t.abrupt("return");case 17:return u=new Date,u.setDate((new Date).getDate()-30),e.watchedItems.set(l.id,l),t.next=22,ct.getAuctionTimeSeries({wowItemId:n,connectedRealmId:i.id,startDate:u.toISOString().split("T")[0]},{orderBy:"timestamp",comparer:rt.dateAscending});case 22:d=t.sent,e.itemTimeseries.set(l.id,d),null===(o=e.chartDatas)||void 0===o||o.push(e.getChartDatas(e.getTimeAgo(e.timeFrame),[[l.id,d]])[0]),tt.orderBy(null!==(s=e.chartDatas)&&void 0!==s?s:[],(function(e){return e.watchedItem.wowItem.name})),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](8),B.error(t.t0);case 31:return t.prev=31,e.addNewItemToWatchList.loading=!1,e.addNewItemToWatchList.showDialog=!1,e.addNewItemToWatchList.selectedRealmId=null,e.addNewItemToWatchList.selectedItemId=null,e.resetAddItemToWatchListForm(),t.finish(31);case 38:case"end":return t.stop()}}),t,null,[[8,28,31,38]])})))()},searchItems:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.itemsLoading=!0,r.prev=1,r.next=4,ft.getItems({nameLike:e,first:25},{orderBy:"name"});case 4:t.items=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),console.error(r.t0);case 10:return r.prev=10,t.itemsLoading=!1,r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[1,7,10,13]])})))()},debouncedSearchItems:Object(Xe["debounce"])((function(e){this.searchItems(e)}),500)},watch:{itemsSearchTerm:function(e){e&&this.debouncedSearchItems(e)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c,l,u,d,h,g,m,v,p,f,b,w,y,k,x,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pageLoadingSubscription=ie.loadingStateChanged.subscribe((function(t){return e.pageLoading=t})),ie.startLoading(),t.prev=2,t.next=5,gt.getWatchListForUser(e.userId,Number(e.id));case 5:if(r=t.sent,r){t.next=10;break}return B.warn("No watch list found with id ".concat(e.id," for user ").concat(e.userId)),e.$router.push({name:Xt.NotFound}),t.abrupt("return");case 10:e.watchList=r,tt.orderBy(e.watchList.watchedItems,(function(e){return e.wowItem.name})),a=new Map,n=new Date,n.setMonth((new Date).getMonth()-1),i=Object(dt["a"])(r.watchedItems);try{for(i.s();!(o=i.n()).done;)s=o.value,e.watchedItems.set(s.id,s),c=s.connectedRealmId,l=s.id,u=s.wowItemId,a.set(l,ct.getAuctionTimeSeries({wowItemId:u,connectedRealmId:c,startDate:n.toISOString().split("T")[0]},{orderBy:"timestamp",comparer:rt.dateAscending}))}catch(j){i.e(j)}finally{i.f()}return t.next=19,vt.getConnectedRealms();case 19:d=t.sent,h=Object(dt["a"])(d);try{for(h.s();!(g=h.n()).done;){m=g.value,e.realms=[].concat(Object(q["a"])(e.realms),Object(q["a"])(m.realms)),e.connectedRealmLookup.set(m.id,m),v=Object(dt["a"])(m.realms);try{for(v.s();!(p=v.n()).done;)f=p.value,e.realmToConnectedRealmLookup.set(f.id,m)}catch(j){v.e(j)}finally{v.f()}}}catch(j){h.e(j)}finally{h.f()}b=Object(dt["a"])(a.entries()),t.prev=23,b.s();case 25:if((w=b.n()).done){t.next=39;break}return y=Object(Y["a"])(w.value,2),k=y[0],x=y[1],t.prev=27,t.next=30,x;case 30:A=t.sent,e.itemTimeseries.set(k,A),t.next=37;break;case 34:t.prev=34,t.t0=t["catch"](27),B.error("Unable to get timeseries for ".concat(k),t.t0);case 37:t.next=25;break;case 39:t.next=44;break;case 41:t.prev=41,t.t1=t["catch"](23),b.e(t.t1);case 44:return t.prev=44,b.f(),t.finish(44);case 47:e.useWeekTimeRange(),t.next=53;break;case 50:t.prev=50,t.t2=t["catch"](2),B.error(t.t2);case 53:return t.prev=53,ie.stopLoading(),t.finish(53);case 56:case"end":return t.stop()}}),t,null,[[2,50,53,56],[23,41,44,47],[27,34]])})))()},beforeDestroy:function(){this.pageLoadingSubscription.unsubscribe()}}),zr=Gr,$r=r("c6a6"),Br=r("a609"),Kr=Object(ce["a"])(zr,Ur,Wr,!1,null,null,null),Hr=Kr.exports;ue()(Kr,{VAutocomplete:$r["a"],VBtn:ge["a"],VBtnToggle:Br["a"],VCard:Ce["a"],VCardActions:Ie["a"],VCardSubtitle:Ie["b"],VCardText:Ie["c"],VCardTitle:Ie["d"],VCol:Te["a"],VContainer:Fe["a"],VDialog:kt["a"],VForm:Et["a"],VIcon:me["a"],VListItemContent:be["a"],VListItemTitle:be["b"],VProgressCircular:ir["a"],VRow:_e["a"],VSkeletonLoader:Mt["a"],VSpacer:xt["a"]});var Yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-card-title",{staticClass:"text-h3"},[e._v(" PRIVACY POLICY ")]),r("v-card-text",[e._v(" This policy applies to all information collected or submitted on the Site and any other devices and platforms. ")]),r("v-card-subtitle",[e._v("THE SHORT VERSION")]),r("v-card-text",[e._v(" We collect as little information as possible. We use that information to provide the services of the site, and only shares that information with third parties that assist in performing those services (e.g. sending notification emails that you request). We do not sell your information to anyone. ")]),r("v-card-title",[e._v("INFORMATION WE COLLECT")]),r("v-card-subtitle",[e._v("WEBSITE")]),r("v-card-text",[e._v(" To create an account, you must provide the following information: Email address Username Password. Email addresses are used for logging in to the website, resetting your password, sending notifications that you request, and customer support services. The Site uses cookies on the website to keep you logged in. The Site uses browser LocalStorage to keep track of various settings/preferences over time. Our servers store some technical information like IP addresses, browser, or other device information for a limited time as part of access logs. ")]),r("v-card-subtitle",[e._v("THIRD-PARTY ANALYTICS")]),r("v-card-text",[e._v(" We use Google Analytics and Azure Application Insights to track basic site traffic, usage information (pages visited, buttons clicked, etc), and error reporting for the purpose of operating the site and developing new features. ")]),r("v-card-title",[e._v("HOW WE USE YOUR INFORMATION")]),r("v-card-text",[e._v(" We use the information we collect to run and improve the site and to provide customer support. We only share personal information with external parties to perform Site functionality (such as sending email). We do not share or sell your personal information with third parties for their commercial purposes. ")]),r("v-card-title",[e._v("SECURITY")]),r("v-card-text",[e._v(" We have implemented appropriate technical and organizational security measures designed to protect the security of information about you that we process. However, please also remember that we cannot guarantee that the Internet itself is 100% secure. Although we will do our best to protect your information, transmission of information to and from our Sites is at your own risk. You should only access the services within a secure environment. ")]),r("v-card-title",[e._v("ACCESSING, CHANGING, OR DELETING YOUR INFORMATION")]),r("v-card-text",[e._v(" You can access or change your data or delete your account and personal data on the account page. Deleted information may remain in backups for up to 90 days. Backups are only used for disaster recovery. ")]),r("v-card-title",[e._v("CHILDREN")]),r("v-card-text",[e._v(" We do not knowingly collect information from children under 18 years of age. By using the Sites, you represent that you are at least 18. ")]),r("v-card-title",[e._v("CONTACT US")]),r("v-card-text",[e._v("If you have any questions regarding this privacy policy, please contact us at nyi@example.com.")]),r("v-card-title",[e._v("PRIVACY POLICY CHANGES")]),r("v-card-text",[e._v("All changes to the privacy policy will be listed here. "),r("ul",[r("li",[e._v("April 24, 2021: Initial version published")])])])],1)],1)},Qr=[],Jr={},Zr=Object(ce["a"])(Jr,Yr,Qr,!1,null,null,null),Xr=Zr.exports;ue()(Zr,{VCard:Ce["a"],VCardSubtitle:Ie["b"],VCardText:Ie["c"],VCardTitle:Ie["d"]});var ea=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ta=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("404 - Not Found")])])}],ra={},aa=Object(ce["a"])(ra,ea,ta,!1,null,null,null),na=aa.exports,ia=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-card-title",{staticClass:"text-h3"},[e._v("FAQ")]),r("v-card-title",[e._v("What is this site?")]),r("v-card-text",[e._v(" This site is an application that tracks World of Warcraft auction house data over time and allows users to create watch lists for their favorite realms and items. ")]),r("v-card-title",[e._v("What does 'Not enough data yet for this item. Please check back later!' message mean?")]),r("v-card-text",[e._v(" Due to the large amount of data in the auction house and the fact that there are many different auction houses, we only automatically collect data on commonly requested items (such as trade materials). This message means that we have not collected enough data for that item for that realm. However, once added to a watch list, the system will begin to collect data on that item for that realm. ")]),r("v-card-title",[e._v("What items will always have their data collected for all realms?")]),r("v-card-text",[e._v(" We currently always collect data for tradeskill materials for the following subclasses: cooking, herb, leather, metal and stone, and enchanting. Data for these items will be collected for all realms. ")]),r("v-card-title",[e._v("How often is data collected?")]),r("v-card-text",[e._v("We currently collect auction data every four hours.")])],1)],1)},oa=[],sa={},ca=Object(ce["a"])(sa,ia,oa,!1,null,null,null),la=ca.exports;ue()(ca,{VCard:Ce["a"],VCardText:Ie["c"],VCardTitle:Ie["d"]});var ua=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},da=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("You shouldn't be here...")])])}],ha={},ga=Object(ce["a"])(ha,ua,da,!1,null,null,null),ma=ga.exports;s["default"].use($e["a"]);var va=new $e["a"]({routes:[{path:"/auth/register",name:Xt.Register,component:sr},{path:"/auth/login",name:Xt.Login,component:gr},{path:"/auth/confirm-email",name:Xt.ConfirmEmail,component:wr},{path:"/auth/forgot-password",name:Xt.ForgotPassword},{path:"/auth/reset-password",name:Xt.ResetPassword},{path:"/account",name:Xt.Account,component:It},{path:"/alerts",name:Xt.Alerts,component:Zt},{path:"/watch-lists/:id",name:Xt.WatchList,component:Hr,props:!0},{path:"/watch-lists",name:Xt.WatchLists,component:Dr},{path:"/test",name:Xt.Test,component:Lr},{path:"/faq",name:Xt.FAQ,component:la},{path:"/privacy",name:Xt.Privacy,component:Xr},{path:"/not-found",name:Xt.NotFound,component:na},{path:"/forbidden",name:Xt.Forbidden,component:ma},{path:"*",name:Xt.Default,component:Dr}]}),pa=new Set([Xt.Login,Xt.Register,Xt.ForgotPassword,Xt.ResetPassword,Xt.ConfirmEmail,Xt.NotFound,Xt.Forbidden,Xt.FAQ,Xt.Privacy]);va.beforeEach((function(e,t,r){ie.stopLoading(),pa.has(e.name)||ae.isUserLoggedIn?r():r({name:Xt.Login})})),ae.unauthorizedActionAttempted.subscribe((function(e){e===W.Forbidden?va.push({name:Xt.Forbidden}):ae.logout()})),ae.authChanged.subscribe((function(e){e||va.push({name:Xt.Login})}));var fa=va,ba=r("ce5b"),wa=r.n(ba);s["default"].use(wa.a);var ya=new wa.a({theme:{themes:{light:{accent:it["a"].indigo.base},dark:{accent:it["a"].indigo.base}},dark:te.darkThemeSet}});s["default"].config.productionTip=!1,new s["default"]({router:fa,vuetify:ya,render:function(e){return e(qe)}}).$mount("#app")},cfee:function(e,t,r){"use strict";r("4e1e")},d041:function(e,t,r){}});
//# sourceMappingURL=app.5673a85d.js.map